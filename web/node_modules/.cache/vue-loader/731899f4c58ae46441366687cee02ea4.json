{"remainingRequest":"E:\\‰∏¥Êó∂\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\‰∏¥Êó∂\\console\\web\\src\\view\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\‰∏¥Êó∂\\console\\web\\src\\view\\login\\index.vue","mtime":1627550008800},{"path":"E:\\‰∏¥Êó∂\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\‰∏¥Êó∂\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\‰∏¥Êó∂\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\‰∏¥Êó∂\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBjYXB0Y2hhIH0gZnJvbSAnQC9hcGkvdXNlcicKaW1wb3J0IHsgY2hlY2tEQiB9IGZyb20gJ0AvYXBpL2luaXRkYicKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YSgpIHsKICAgIGNvbnN0IGNoZWNrVXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCAzKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qE55So5oi35ZCNJykpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKQogICAgICB9CiAgICB9CiAgICBjb25zdCBjaGVja1Bhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodmFsdWUubGVuZ3RoIDwgNikgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOWvhueggScpKQogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCkKICAgICAgfQogICAgfQogICAgcmV0dXJuIHsKICAgICAgY3VyWWVhcjogMCwKICAgICAgbG9jazogJ2xvY2snLAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJ2FkbWluJywKICAgICAgICBwYXNzd29yZDogJzEyMzQ1NicsCiAgICAgICAgY2FwdGNoYTogJycsCiAgICAgICAgY2FwdGNoYUlkOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbeyB2YWxpZGF0b3I6IGNoZWNrVXNlcm5hbWUsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBwYXNzd29yZDogW3sgdmFsaWRhdG9yOiBjaGVja1Bhc3N3b3JkLCB0cmlnZ2VyOiAnYmx1cicgfV0KICAgICAgfSwKICAgICAgbG9nVmVyaWZ5OiAnJywKICAgICAgcGljUGF0aDogJycKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvZ2luVmVyaWZ5KCkKICAgIHRoaXMuY3VyWWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygndXNlcicsIFsnTG9naW5JbiddKSwKICAgIGFzeW5jIGNoZWNrSW5pdCgpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2hlY2tEQigpCiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgIGlmIChyZXMuZGF0YT8ubmVlZEluaXQpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXNlci9OZWVkSW5pdCcpCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdJbml0JyB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey6YWN572u5pWw5o2u5bqT5L+h5oGv77yM5peg5rOV5Yid5aeL5YyWJwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBsb2dpbigpIHsKICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuTG9naW5Jbih0aGlzLmxvZ2luRm9ybSkKICAgIH0sCiAgICBhc3luYyBzdWJtaXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZShhc3luYyh2KSA9PiB7CiAgICAgICAgaWYgKHYpIHsKICAgICAgICAgIGNvbnN0IGZsYWcgPSBhd2FpdCB0aGlzLmxvZ2luKCkKICAgICAgICAgIGlmICghZmxhZykgewogICAgICAgICAgICB0aGlzLmxvZ2luVmVyaWZ5KCkKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fmraPnoa7loavlhpnnmbvlvZXkv6Hmga8nLAogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmxvZ2luVmVyaWZ5KCkKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBjaGFuZ2VMb2NrKCkgewogICAgICB0aGlzLmxvY2sgPSB0aGlzLmxvY2sgPT09ICdsb2NrJyA/ICd1bmxvY2snIDogJ2xvY2snCiAgICB9LAogICAgbG9naW5WZXJpZnkoKSB7CiAgICAgIGNhcHRjaGEoe30pLnRoZW4oKGVsZSkgPT4gewogICAgICAgIHRoaXMucGljUGF0aCA9IGVsZS5kYXRhLnBpY1BhdGgKICAgICAgICB0aGlzLmxvZ2luRm9ybS5jYXB0Y2hhSWQgPSBlbGUuZGF0YS5jYXB0Y2hhSWQKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/login","sourcesContent":["<template>\n  <div id=\"userLayout\">\n    <div class=\"login_panle\">\n      <div class=\"login_panle_form\">\n        <div class=\"login_panle_form_title\">\n          <img class=\"login_panle_form_title_logo\" :src=\"$GIN_VUE_ADMIN.appLogo\" alt=\"\"><p class=\"login_panle_form_title_p\">{{ $GIN_VUE_ADMIN.appName }}</p>\n        </div>\n        <el-form\n          ref=\"loginForm\"\n          :model=\"loginForm\"\n          :rules=\"rules\"\n          @keyup.enter.native=\"submitForm\"\n        >\n          <el-form-item prop=\"username\">\n            <el-input v-model=\"loginForm.username\" placeholder=\"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç\">\n              <i slot=\"suffix\" class=\"el-input__icon el-icon-user\" />\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\">\n            <el-input\n              v-model=\"loginForm.password\"\n              :type=\"lock === 'lock' ? 'password' : 'text'\"\n              placeholder=\"ËØ∑ËæìÂÖ•ÂØÜÁ†Å\"\n            >\n              <i\n                slot=\"suffix\"\n                :class=\"'el-input__icon el-icon-' + lock\"\n                @click=\"changeLock\"\n              />\n            </el-input>\n          </el-form-item>\n          <el-form-item style=\"position: relative\">\n            <el-input\n              v-model=\"loginForm.captcha\"\n              name=\"logVerify\"\n              placeholder=\"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å\"\n              style=\"width: 60%\"\n            />\n            <div class=\"vPic\">\n              <img\n                v-if=\"picPath\"\n                :src=\"picPath\"\n                width=\"100%\"\n                height=\"100%\"\n                alt=\"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å\"\n                @click=\"loginVerify()\"\n              >\n            </div>\n          </el-form-item>\n          <div />\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              style=\"width: 46%\"\n              @click=\"checkInit\"\n            >ÂâçÂæÄÂàùÂßãÂåñ</el-button>\n            <el-button\n              type=\"primary\"\n              style=\"width: 46%;margin-left:8%\"\n              @click=\"submitForm\"\n            >Áôª ÂΩï</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class=\"login_panle_right\" />\n      <div class=\"login_panle_foot\">\n        <div class=\"links\">\n          <a href=\"http://doc.henrongyi.top/\"><img src=\"@/assets/docs.png\" class=\"link-icon\"></a>\n          <a href=\"https://www.yuque.com/flipped-aurora/\"><img src=\"@/assets/yuque.png\" class=\"link-icon\"></a>\n          <a href=\"https://github.com/flipped-aurora/gin-vue-admin\"><img src=\"@/assets/github.png\" class=\"link-icon\"></a>\n          <a href=\"https://space.bilibili.com/322210472\"><img src=\"@/assets/video.png\" class=\"link-icon\"></a>\n        </div>\n        <div class=\"copyright\">Copyright &copy; {{ curYear }} üíñ flipped-aurora</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport { captcha } from '@/api/user'\nimport { checkDB } from '@/api/initdb'\nexport default {\n  name: 'Login',\n  data() {\n    const checkUsername = (rule, value, callback) => {\n      if (value.length < 3) {\n        return callback(new Error('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÁî®Êà∑Âêç'))\n      } else {\n        callback()\n      }\n    }\n    const checkPassword = (rule, value, callback) => {\n      if (value.length < 6) {\n        return callback(new Error('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÂØÜÁ†Å'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      curYear: 0,\n      lock: 'lock',\n      loginForm: {\n        username: 'admin',\n        password: '123456',\n        captcha: '',\n        captchaId: ''\n      },\n      rules: {\n        username: [{ validator: checkUsername, trigger: 'blur' }],\n        password: [{ validator: checkPassword, trigger: 'blur' }]\n      },\n      logVerify: '',\n      picPath: ''\n    }\n  },\n  created() {\n    this.loginVerify()\n    this.curYear = new Date().getFullYear()\n  },\n  methods: {\n    ...mapActions('user', ['LoginIn']),\n    async checkInit() {\n      const res = await checkDB()\n      if (res.code === 0) {\n        if (res.data?.needInit) {\n          this.$store.commit('user/NeedInit')\n          this.$router.push({ name: 'Init' })\n        } else {\n          this.$message({\n            type: 'info',\n            message: 'Â∑≤ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì‰ø°ÊÅØÔºåÊó†Ê≥ïÂàùÂßãÂåñ'\n          })\n        }\n      }\n    },\n    async login() {\n      return await this.LoginIn(this.loginForm)\n    },\n    async submitForm() {\n      this.$refs.loginForm.validate(async(v) => {\n        if (v) {\n          const flag = await this.login()\n          if (!flag) {\n            this.loginVerify()\n          }\n        } else {\n          this.$message({\n            type: 'error',\n            message: 'ËØ∑Ê≠£Á°ÆÂ°´ÂÜôÁôªÂΩï‰ø°ÊÅØ',\n            showClose: true\n          })\n          this.loginVerify()\n          return false\n        }\n      })\n    },\n    changeLock() {\n      this.lock = this.lock === 'lock' ? 'unlock' : 'lock'\n    },\n    loginVerify() {\n      captcha({}).then((ele) => {\n        this.picPath = ele.data.picPath\n        this.loginForm.captchaId = ele.data.captchaId\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/style/newLogin.scss\";\n</style>\n"]}]}