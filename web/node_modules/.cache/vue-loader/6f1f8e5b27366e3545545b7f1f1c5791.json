{"remainingRequest":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\superAdmin\\api\\api.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\console\\web\\src\\view\\superAdmin\\api\\api.vue","mtime":1629377582325},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1629377569839},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1629377580375}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDojrflj5bliJfooajlhoXlrrnlsIHoo4XlnKhtaXhpbnPlhoXpg6ggIGdldFRhYmxlRGF0YeaWueazlSDliJ3lp4vljJblt7LlsIHoo4XlrozmiJAg5p2h5Lu25pCc57Si5pe25YCZIOivt+aKiuadoeS7tuWuieWlveWQjuWPsOWumuWItueahOe7k+aehOS9k+Wtl+autSDmlL7liLAgdGhpcy5zZWFyY2hJbmZvIOS4reWNs+WPr+WunueOsOadoeS7tuaQnOe0og0KDQppbXBvcnQgew0KICBnZXRBcGlCeUlkLA0KICBnZXRBcGlMaXN0LA0KICBjcmVhdGVBcGksDQogIHVwZGF0ZUFwaSwNCiAgZGVsZXRlQXBpLA0KICBkZWxldGVBcGlzQnlJZHMNCn0gZnJvbSAnQC9hcGkvYXBpJw0KaW1wb3J0IGluZm9MaXN0IGZyb20gJ0AvbWl4aW5zL2luZm9MaXN0Jw0KaW1wb3J0IHsgdG9TUUxMaW5lIH0gZnJvbSAnQC91dGlscy9zdHJpbmdGdW4nDQpjb25zdCBtZXRob2RPcHRpb25zID0gWw0KICB7DQogICAgdmFsdWU6ICdQT1NUJywNCiAgICBsYWJlbDogJ+WIm+W7uicsDQogICAgdHlwZTogJ3N1Y2Nlc3MnDQogIH0sDQogIHsNCiAgICB2YWx1ZTogJ0dFVCcsDQogICAgbGFiZWw6ICfmn6XnnIsnLA0KICAgIHR5cGU6ICcnDQogIH0sDQogIHsNCiAgICB2YWx1ZTogJ1BVVCcsDQogICAgbGFiZWw6ICfmm7TmlrAnLA0KICAgIHR5cGU6ICd3YXJuaW5nJw0KICB9LA0KICB7DQogICAgdmFsdWU6ICdERUxFVEUnLA0KICAgIGxhYmVsOiAn5Yig6ZmkJywNCiAgICB0eXBlOiAnZGFuZ2VyJw0KICB9DQpdDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0FwaScsDQogIGZpbHRlcnM6IHsNCiAgICBtZXRob2RGaWxldHIodmFsdWUpIHsNCiAgICAgIGNvbnN0IHRhcmdldCA9IG1ldGhvZE9wdGlvbnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gdmFsdWUpWzBdDQogICAgICAvLyByZXR1cm4gdGFyZ2V0ICYmIGAke3RhcmdldC5sYWJlbH0oJHt0YXJnZXQudmFsdWV9KWANCiAgICAgIHJldHVybiB0YXJnZXQgJiYgYCR7dGFyZ2V0LmxhYmVsfWANCiAgICB9LA0KICAgIHRhZ1R5cGVGaWxldHIodmFsdWUpIHsNCiAgICAgIGNvbnN0IHRhcmdldCA9IG1ldGhvZE9wdGlvbnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gdmFsdWUpWzBdDQogICAgICByZXR1cm4gdGFyZ2V0ICYmIGAke3RhcmdldC50eXBlfWANCiAgICB9DQogIH0sDQogIG1peGluczogW2luZm9MaXN0XSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGVsZXRlVmlzaWJsZTogZmFsc2UsDQogICAgICBsaXN0QXBpOiBnZXRBcGlMaXN0LA0KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgZGlhbG9nVGl0bGU6ICfmlrDlop5BcGknLA0KICAgICAgYXBpczogW10sDQogICAgICBmb3JtOiB7DQogICAgICAgIHBhdGg6ICcnLA0KICAgICAgICBhcGlHcm91cDogJycsDQogICAgICAgIG1ldGhvZDogJycsDQogICAgICAgIGRlc2NyaXB0aW9uOiAnJw0KICAgICAgfSwNCiAgICAgIG1ldGhvZE9wdGlvbnM6IG1ldGhvZE9wdGlvbnMsDQogICAgICB0eXBlOiAnJywNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHBhdGg6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWlYXBp6Lev5b6EJywgdHJpZ2dlcjogJ2JsdXInIH1dLA0KICAgICAgICBhcGlHcm91cDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnu4TlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBtZXRob2Q6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6K+35rGC5pa55byPJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgZGVzY3JpcHRpb246IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWlYXBp5LuL57uNJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldFRhYmxlRGF0YSgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyAg6YCJ5LitYXBpDQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5hcGlzID0gdmFsDQogICAgfSwNCiAgICBhc3luYyBvbkRlbGV0ZSgpIHsNCiAgICAgIGNvbnN0IGlkcyA9IHRoaXMuYXBpcy5tYXAoaXRlbSA9PiBpdGVtLklEKQ0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZXRlQXBpc0J5SWRzKHsgaWRzIH0pDQogICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cNCiAgICAgICAgfSkNCiAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PT0gaWRzLmxlbmd0aCAmJiB0aGlzLnBhZ2UgPiAxKSB7DQogICAgICAgICAgdGhpcy5wYWdlLS0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmRlbGV0ZVZpc2libGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLmdldFRhYmxlRGF0YSgpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmjpLluo8NCiAgICBzb3J0Q2hhbmdlKHsgcHJvcCwgb3JkZXIgfSkgew0KICAgICAgaWYgKHByb3ApIHsNCiAgICAgICAgdGhpcy5zZWFyY2hJbmZvLm9yZGVyS2V5ID0gdG9TUUxMaW5lKHByb3ApDQogICAgICAgIHRoaXMuc2VhcmNoSW5mby5kZXNjID0gb3JkZXIgPT09ICdkZXNjZW5kaW5nJw0KICAgICAgfQ0KICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQ0KICAgIH0sDQogICAgLy8g5p2h5Lu25pCc57Si5YmN56uv55yL5q2k5pa55rOVDQogICAgb25TdWJtaXQoKSB7DQogICAgICB0aGlzLnBhZ2UgPSAxDQogICAgICB0aGlzLnBhZ2VTaXplID0gMTANCiAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCkNCiAgICB9LA0KICAgIGluaXRGb3JtKCkgew0KICAgICAgdGhpcy4kcmVmcy5hcGlGb3JtLnJlc2V0RmllbGRzKCkNCiAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgcGF0aDogJycsDQogICAgICAgIGFwaUdyb3VwOiAnJywNCiAgICAgICAgbWV0aG9kOiAnJywNCiAgICAgICAgZGVzY3JpcHRpb246ICcnDQogICAgICB9DQogICAgfSwNCiAgICBjbG9zZURpYWxvZygpIHsNCiAgICAgIHRoaXMuaW5pdEZvcm0oKQ0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlDQogICAgfSwNCiAgICBvcGVuRGlhbG9nKHR5cGUpIHsNCiAgICAgIHN3aXRjaCAodHlwZSkgew0KICAgICAgICBjYXNlICdhZGRBcGknOg0KICAgICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5paw5aKeQXBpJw0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ2VkaXQnOg0KICAgICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn57yW6L6RQXBpJw0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgYnJlYWsNCiAgICAgIH0NCiAgICAgIHRoaXMudHlwZSA9IHR5cGUNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICBhc3luYyBlZGl0QXBpKHJvdykgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0QXBpQnlJZCh7IGlkOiByb3cuSUQgfSkNCiAgICAgIHRoaXMuZm9ybSA9IHJlcy5kYXRhLmFwaQ0KICAgICAgdGhpcy5vcGVuRGlhbG9nKCdlZGl0JykNCiAgICB9LA0KICAgIGFzeW5jIGRlbGV0ZUFwaShyb3cpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOaJgOacieinkuiJsuS4i+ivpWFwaSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oYXN5bmMoKSA9PiB7DQogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZXRlQXBpKHJvdykNCiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YS5sZW5ndGggPT09IDEgJiYgdGhpcy5wYWdlID4gMSkgew0KICAgICAgICAgICAgICB0aGlzLnBhZ2UtLQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIGFzeW5jIGVudGVyRGlhbG9nKCkgew0KICAgICAgdGhpcy4kcmVmcy5hcGlGb3JtLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsNCiAgICAgICAgICAgIGNhc2UgJ2FkZEFwaSc6DQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjcmVhdGVBcGkodGhpcy5mb3JtKQ0KICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+a3u+WKoOaIkOWKnycsDQogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5nZXRUYWJsZURhdGEoKQ0KICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKQ0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ2VkaXQnOg0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdXBkYXRlQXBpKHRoaXMuZm9ybSkNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnvJbovpHmiJDlip8nLA0KICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCkNCiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pyq55+l5pON5L2cJywNCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["api.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"api.vue","sourceRoot":"src/view/superAdmin/api","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"search-term\">\r\n      <el-form :inline=\"true\" :model=\"searchInfo\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"路径\">\r\n          <el-input v-model=\"searchInfo.path\" placeholder=\"路径\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\">\r\n          <el-input v-model=\"searchInfo.description\" placeholder=\"描述\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"api组\">\r\n          <el-input v-model=\"searchInfo.apiGroup\" placeholder=\"api组\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"请求\">\r\n          <el-select v-model=\"searchInfo.method\" clearable placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in methodOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"`${item.label}(${item.value})`\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-search\" @click=\"onSubmit\">查询</el-button>\r\n          <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"openDialog('addApi')\">新增</el-button>\r\n          <el-popover v-model=\"deleteVisible\" placement=\"top\" width=\"160\">\r\n            <p>确定要删除吗？</p>\r\n            <div style=\"text-align: right; margin: 0\">\r\n              <el-button size=\"mini\" type=\"text\" @click=\"deleteVisible = false\">取消</el-button>\r\n              <el-button size=\"mini\" type=\"primary\" @click=\"onDelete\">确定</el-button>\r\n            </div>\r\n            <el-button slot=\"reference\" icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" style=\"margin-left: 10px;\">批量删除</el-button>\r\n          </el-popover>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-table :data=\"tableData\" border stripe @sort-change=\"sortChange\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column\r\n        type=\"selection\"\r\n        width=\"55\"\r\n      />\r\n      <el-table-column label=\"id\" min-width=\"60\" prop=\"ID\" sortable=\"custom\" />\r\n      <el-table-column label=\"api路径\" min-width=\"150\" prop=\"path\" sortable=\"custom\" />\r\n      <el-table-column label=\"api分组\" min-width=\"150\" prop=\"apiGroup\" sortable=\"custom\" />\r\n      <el-table-column label=\"api简介\" min-width=\"150\" prop=\"description\" sortable=\"custom\" />\r\n      <el-table-column label=\"请求\" min-width=\"150\" prop=\"method\" sortable=\"custom\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            {{ scope.row.method }}\r\n            <el-tag\r\n              :key=\"scope.row.methodFiletr\"\r\n              :type=\"scope.row.method|tagTypeFiletr\"\r\n              effect=\"dark\"\r\n              size=\"mini\"\r\n            >{{ scope.row.method|methodFiletr }}</el-tag>\r\n            <!-- {{scope.row.method|methodFiletr}} -->\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"small\" type=\"primary\" icon=\"el-icon-edit\" @click=\"editApi(scope.row)\">编辑</el-button>\r\n          <el-button\r\n            size=\"small\"\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"deleteApi(scope.row)\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :page-size=\"pageSize\"\r\n      :page-sizes=\"[10, 30, 50, 100]\"\r\n      :style=\"{float:'right',padding:'20px'}\"\r\n      :total=\"total\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      @current-change=\"handleCurrentChange\"\r\n      @size-change=\"handleSizeChange\"\r\n    />\r\n\r\n    <el-dialog :before-close=\"closeDialog\" :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"apiForm\" :inline=\"true\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"路径\" prop=\"path\">\r\n          <el-input v-model=\"form.path\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"请求\" prop=\"method\">\r\n          <el-select v-model=\"form.method\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in methodOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"`${item.label}(${item.value})`\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"api分组\" prop=\"apiGroup\">\r\n          <el-input v-model=\"form.apiGroup\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"api简介\" prop=\"description\">\r\n          <el-input v-model=\"form.description\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"warning\">新增Api需要在角色管理内配置权限才可使用</div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"closeDialog\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"enterDialog\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 获取列表内容封装在mixins内部  getTableData方法 初始化已封装完成 条件搜索时候 请把条件安好后台定制的结构体字段 放到 this.searchInfo 中即可实现条件搜索\r\n\r\nimport {\r\n  getApiById,\r\n  getApiList,\r\n  createApi,\r\n  updateApi,\r\n  deleteApi,\r\n  deleteApisByIds\r\n} from '@/api/api'\r\nimport infoList from '@/mixins/infoList'\r\nimport { toSQLLine } from '@/utils/stringFun'\r\nconst methodOptions = [\r\n  {\r\n    value: 'POST',\r\n    label: '创建',\r\n    type: 'success'\r\n  },\r\n  {\r\n    value: 'GET',\r\n    label: '查看',\r\n    type: ''\r\n  },\r\n  {\r\n    value: 'PUT',\r\n    label: '更新',\r\n    type: 'warning'\r\n  },\r\n  {\r\n    value: 'DELETE',\r\n    label: '删除',\r\n    type: 'danger'\r\n  }\r\n]\r\n\r\nexport default {\r\n  name: 'Api',\r\n  filters: {\r\n    methodFiletr(value) {\r\n      const target = methodOptions.filter(item => item.value === value)[0]\r\n      // return target && `${target.label}(${target.value})`\r\n      return target && `${target.label}`\r\n    },\r\n    tagTypeFiletr(value) {\r\n      const target = methodOptions.filter(item => item.value === value)[0]\r\n      return target && `${target.type}`\r\n    }\r\n  },\r\n  mixins: [infoList],\r\n  data() {\r\n    return {\r\n      deleteVisible: false,\r\n      listApi: getApiList,\r\n      dialogFormVisible: false,\r\n      dialogTitle: '新增Api',\r\n      apis: [],\r\n      form: {\r\n        path: '',\r\n        apiGroup: '',\r\n        method: '',\r\n        description: ''\r\n      },\r\n      methodOptions: methodOptions,\r\n      type: '',\r\n      rules: {\r\n        path: [{ required: true, message: '请输入api路径', trigger: 'blur' }],\r\n        apiGroup: [\r\n          { required: true, message: '请输入组名称', trigger: 'blur' }\r\n        ],\r\n        method: [\r\n          { required: true, message: '请选择请求方式', trigger: 'blur' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请输入api介绍', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getTableData()\r\n  },\r\n  methods: {\r\n    //  选中api\r\n    handleSelectionChange(val) {\r\n      this.apis = val\r\n    },\r\n    async onDelete() {\r\n      const ids = this.apis.map(item => item.ID)\r\n      const res = await deleteApisByIds({ ids })\r\n      if (res.code === 0) {\r\n        this.$message({\r\n          type: 'success',\r\n          message: res.msg\r\n        })\r\n        if (this.tableData.length === ids.length && this.page > 1) {\r\n          this.page--\r\n        }\r\n        this.deleteVisible = false\r\n        this.getTableData()\r\n      }\r\n    },\r\n    // 排序\r\n    sortChange({ prop, order }) {\r\n      if (prop) {\r\n        this.searchInfo.orderKey = toSQLLine(prop)\r\n        this.searchInfo.desc = order === 'descending'\r\n      }\r\n      this.getTableData()\r\n    },\r\n    // 条件搜索前端看此方法\r\n    onSubmit() {\r\n      this.page = 1\r\n      this.pageSize = 10\r\n      this.getTableData()\r\n    },\r\n    initForm() {\r\n      this.$refs.apiForm.resetFields()\r\n      this.form = {\r\n        path: '',\r\n        apiGroup: '',\r\n        method: '',\r\n        description: ''\r\n      }\r\n    },\r\n    closeDialog() {\r\n      this.initForm()\r\n      this.dialogFormVisible = false\r\n    },\r\n    openDialog(type) {\r\n      switch (type) {\r\n        case 'addApi':\r\n          this.dialogTitle = '新增Api'\r\n          break\r\n        case 'edit':\r\n          this.dialogTitle = '编辑Api'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      this.type = type\r\n      this.dialogFormVisible = true\r\n    },\r\n    async editApi(row) {\r\n      const res = await getApiById({ id: row.ID })\r\n      this.form = res.data.api\r\n      this.openDialog('edit')\r\n    },\r\n    async deleteApi(row) {\r\n      this.$confirm('此操作将永久删除所有角色下该api, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(async() => {\r\n          const res = await deleteApi(row)\r\n          if (res.code === 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n            if (this.tableData.length === 1 && this.page > 1) {\r\n              this.page--\r\n            }\r\n            this.getTableData()\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n    },\r\n    async enterDialog() {\r\n      this.$refs.apiForm.validate(async valid => {\r\n        if (valid) {\r\n          switch (this.type) {\r\n            case 'addApi':\r\n              {\r\n                const res = await createApi(this.form)\r\n                if (res.code === 0) {\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: '添加成功',\r\n                    showClose: true\r\n                  })\r\n                }\r\n                this.getTableData()\r\n                this.closeDialog()\r\n              }\r\n\r\n              break\r\n            case 'edit':\r\n              {\r\n                const res = await updateApi(this.form)\r\n                if (res.code === 0) {\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: '编辑成功',\r\n                    showClose: true\r\n                  })\r\n                }\r\n                this.getTableData()\r\n                this.closeDialog()\r\n              }\r\n              break\r\n            default:\r\n              // eslint-disable-next-line no-lone-blocks\r\n              {\r\n                this.$message({\r\n                  type: 'error',\r\n                  message: '未知操作',\r\n                  showClose: true\r\n                })\r\n              }\r\n              break\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.button-box {\r\n  padding: 10px 20px;\r\n  .el-button {\r\n    float: right;\r\n  }\r\n}\r\n.el-tag--mini {\r\n  margin-left: 5px;\r\n}\r\n.warning {\r\n  color: #dc143c;\r\n}\r\n</style>\r\n"]}]}