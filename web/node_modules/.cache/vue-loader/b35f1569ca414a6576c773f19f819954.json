{"remainingRequest":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\systemTools\\autoCode\\component\\previewCodeDialg.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\console\\web\\src\\view\\systemTools\\autoCode\\component\\previewCodeDialg.vue","mtime":1629377582356},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1629377569839},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1629377580375}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbWFya2VkIGZyb20gJ21hcmtlZCcNCmltcG9ydCBobGpzIGZyb20gJ2hpZ2hsaWdodC5qcycNCi8vIGltcG9ydCAnaGlnaGxpZ2h0LmpzL3N0eWxlcy9hdGVsaWVyLWNhdmUtbGlnaHQuY3NzJzsNCmltcG9ydCAnaGlnaGxpZ2h0LmpzL3N0eWxlcy9hdGVsaWVyLXBsYXRlYXUtbGlnaHQuY3NzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHByZXZpZXdDb2RlOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0KCkgew0KICAgICAgICByZXR1cm4ge30NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGFjdGl2ZU5hbWU6ICcnDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIG1hcmtlZC5zZXRPcHRpb25zKHsNCiAgICAgIHJlbmRlcmVyOiBuZXcgbWFya2VkLlJlbmRlcmVyKCksDQogICAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uKGNvZGUpIHsNCiAgICAgICAgcmV0dXJuIGhsanMuaGlnaGxpZ2h0QXV0byhjb2RlKS52YWx1ZQ0KICAgICAgfSwNCiAgICAgIHBlZGFudGljOiBmYWxzZSwNCiAgICAgIGdmbTogdHJ1ZSwNCiAgICAgIHRhYmxlczogdHJ1ZSwNCiAgICAgIGJyZWFrczogZmFsc2UsDQogICAgICBzYW5pdGl6ZTogZmFsc2UsDQogICAgICBzbWFydExpc3RzOiB0cnVlLA0KICAgICAgc21hcnR5cGFudHM6IGZhbHNlLA0KICAgICAgeGh0bWw6IGZhbHNlDQogICAgfSkNCiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnByZXZpZXdDb2RlKSB7DQogICAgICBpZiAodGhpcy5hY3RpdmVOYW1lID09PSAnJykgew0KICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSBrZXkNCiAgICAgIH0NCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGtleSkuaW5uZXJIVE1MID0gbWFya2VkKHRoaXMucHJldmlld0NvZGVba2V5XSkNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzZWxlY3RUZXh0KCkgew0KICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuYWN0aXZlTmFtZSkNCiAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSkgew0KICAgICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCkNCiAgICAgICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWxlbWVudCkNCiAgICAgICAgcmFuZ2Uuc2VsZWN0KCkNCiAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikgew0KICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkNCiAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpDQogICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KQ0KICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCkNCiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYWxlcnQoJ25vbmUnKQ0KICAgICAgfQ0KICAgIH0sDQogICAgY29weSgpIHsNCiAgICAgIHRoaXMuc2VsZWN0VGV4dCgpDQogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["previewCodeDialg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"previewCodeDialg.vue","sourceRoot":"src/view/systemTools/autoCode/component","sourcesContent":["<template>\r\n  <div class=\"previewCode\">\r\n    <div class=\"previewCodeTool\">\r\n      <p>操作栏：</p>\r\n      <el-button @click=\"selectText\">全选</el-button>\r\n      <el-button @click=\"copy\">复制</el-button>\r\n    </div>\r\n    <el-tabs v-model=\"activeName\">\r\n      <el-tab-pane v-for=\"(item, key) in previewCode\" :key=\"key\" :label=\"key\" :name=\"key\">\r\n        <div :id=\"key\" class=\"tab-info\" />\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport marked from 'marked'\r\nimport hljs from 'highlight.js'\r\n// import 'highlight.js/styles/atelier-cave-light.css';\r\nimport 'highlight.js/styles/atelier-plateau-light.css'\r\nexport default {\r\n  props: {\r\n    previewCode: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    marked.setOptions({\r\n      renderer: new marked.Renderer(),\r\n      highlight: function(code) {\r\n        return hljs.highlightAuto(code).value\r\n      },\r\n      pedantic: false,\r\n      gfm: true,\r\n      tables: true,\r\n      breaks: false,\r\n      sanitize: false,\r\n      smartLists: true,\r\n      smartypants: false,\r\n      xhtml: false\r\n    })\r\n    for (const key in this.previewCode) {\r\n      if (this.activeName === '') {\r\n        this.activeName = key\r\n      }\r\n      document.getElementById(key).innerHTML = marked(this.previewCode[key])\r\n    }\r\n  },\r\n  methods: {\r\n    selectText() {\r\n      const element = document.getElementById(this.activeName)\r\n      if (document.body.createTextRange) {\r\n        const range = document.body.createTextRange()\r\n        range.moveToElementText(element)\r\n        range.select()\r\n      } else if (window.getSelection) {\r\n        const selection = window.getSelection()\r\n        const range = document.createRange()\r\n        range.selectNodeContents(element)\r\n        selection.removeAllRanges()\r\n        selection.addRange(range)\r\n      } else {\r\n        alert('none')\r\n      }\r\n    },\r\n    copy() {\r\n      this.selectText()\r\n      document.execCommand('copy')\r\n      this.$message.success('复制成功')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.previewCode {\r\n  .previewCodeTool {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 5px 0;\r\n    margin-top: -40px;\r\n  }\r\n  .tab-info {\r\n    height: 50vh;\r\n    background: #fff;\r\n    padding: 0 20px;\r\n    overflow-y: scroll;\r\n  }\r\n}\r\n</style>\r\n"]}]}