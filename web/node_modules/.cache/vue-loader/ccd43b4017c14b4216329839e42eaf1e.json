{"remainingRequest":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\login\\index.vue?vue&type=style&index=0&id=a3ccadca&lang=scss&scoped=true&","dependencies":[{"path":"E:\\console\\web\\src\\view\\login\\index.vue","mtime":1629377582325},{"path":"E:\\console\\web\\node_modules\\css-loader\\dist\\cjs.js","mtime":1629377572556},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1629377580375},{"path":"E:\\console\\web\\node_modules\\postcss-loader\\src\\index.js","mtime":1629377577534},{"path":"E:\\console\\web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1629377578872},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1629377580375}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgIn5AL3N0eWxlL25ld0xvZ2luLnNjc3MiOw0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA","file":"index.vue","sourceRoot":"src/view/login","sourcesContent":["<template>\r\n  <div id=\"userLayout\">\r\n    <div class=\"login_panle\">\r\n      <div class=\"login_panle_form\">\r\n        <div class=\"login_panle_form_title\">\r\n          <img class=\"login_panle_form_title_logo\" :src=\"$GIN_VUE_ADMIN.appLogo\" alt=\"\"><p class=\"login_panle_form_title_p\">{{ $GIN_VUE_ADMIN.appName }}</p>\r\n        </div>\r\n        <el-form\r\n          ref=\"loginForm\"\r\n          :model=\"loginForm\"\r\n          :rules=\"rules\"\r\n          @keyup.enter.native=\"submitForm\"\r\n        >\r\n          <el-form-item prop=\"username\">\r\n            <el-input v-model=\"loginForm.username\" placeholder=\"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç\">\r\n              <i slot=\"suffix\" class=\"el-input__icon el-icon-user\" />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input\r\n              v-model=\"loginForm.password\"\r\n              :type=\"lock === 'lock' ? 'password' : 'text'\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•ÂØÜÁ†Å\"\r\n            >\r\n              <i\r\n                slot=\"suffix\"\r\n                :class=\"'el-input__icon el-icon-' + lock\"\r\n                @click=\"changeLock\"\r\n              />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"position: relative\">\r\n            <el-input\r\n              v-model=\"loginForm.captcha\"\r\n              name=\"logVerify\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å\"\r\n              style=\"width: 60%\"\r\n            />\r\n            <div class=\"vPic\">\r\n              <img\r\n                v-if=\"picPath\"\r\n                :src=\"picPath\"\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                alt=\"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å\"\r\n                @click=\"loginVerify()\"\r\n              >\r\n            </div>\r\n          </el-form-item>\r\n          <div />\r\n          <el-form-item>\r\n            <el-button\r\n              type=\"primary\"\r\n              style=\"width: 46%\"\r\n              @click=\"checkInit\"\r\n            >ÂâçÂæÄÂàùÂßãÂåñ</el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              style=\"width: 46%;margin-left:8%\"\r\n              @click=\"submitForm\"\r\n            >Áôª ÂΩï</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"login_panle_right\" />\r\n      <div class=\"login_panle_foot\">\r\n        <div class=\"links\">\r\n          <a href=\"http://doc.henrongyi.top/\"><img src=\"@/assets/docs.png\" class=\"link-icon\"></a>\r\n          <a href=\"https://www.yuque.com/flipped-aurora/\"><img src=\"@/assets/yuque.png\" class=\"link-icon\"></a>\r\n          <a href=\"https://github.com/flipped-aurora/gin-vue-admin\"><img src=\"@/assets/github.png\" class=\"link-icon\"></a>\r\n          <a href=\"https://space.bilibili.com/322210472\"><img src=\"@/assets/video.png\" class=\"link-icon\"></a>\r\n        </div>\r\n        <div class=\"copyright\">Copyright &copy; {{ curYear }} üíñ flipped-aurora</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport { captcha } from '@/api/user'\r\nimport { checkDB } from '@/api/initdb'\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    const checkUsername = (rule, value, callback) => {\r\n      if (value.length < 3) {\r\n        return callback(new Error('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÁî®Êà∑Âêç'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    const checkPassword = (rule, value, callback) => {\r\n      if (value.length < 6) {\r\n        return callback(new Error('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÂØÜÁ†Å'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      curYear: 0,\r\n      lock: 'lock',\r\n      loginForm: {\r\n        username: 'admin',\r\n        password: '123456',\r\n        captcha: '',\r\n        captchaId: ''\r\n      },\r\n      rules: {\r\n        username: [{ validator: checkUsername, trigger: 'blur' }],\r\n        password: [{ validator: checkPassword, trigger: 'blur' }]\r\n      },\r\n      logVerify: '',\r\n      picPath: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.loginVerify()\r\n    this.curYear = new Date().getFullYear()\r\n  },\r\n  methods: {\r\n    ...mapActions('user', ['LoginIn']),\r\n    async checkInit() {\r\n      const res = await checkDB()\r\n      if (res.code === 0) {\r\n        if (res.data?.needInit) {\r\n          this.$store.commit('user/NeedInit')\r\n          this.$router.push({ name: 'Init' })\r\n        } else {\r\n          this.$message({\r\n            type: 'info',\r\n            message: 'Â∑≤ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì‰ø°ÊÅØÔºåÊó†Ê≥ïÂàùÂßãÂåñ'\r\n          })\r\n        }\r\n      }\r\n    },\r\n    async login() {\r\n      return await this.LoginIn(this.loginForm)\r\n    },\r\n    async submitForm() {\r\n      this.$refs.loginForm.validate(async(v) => {\r\n        if (v) {\r\n          const flag = await this.login()\r\n          if (!flag) {\r\n            this.loginVerify()\r\n          }\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: 'ËØ∑Ê≠£Á°ÆÂ°´ÂÜôÁôªÂΩï‰ø°ÊÅØ',\r\n            showClose: true\r\n          })\r\n          this.loginVerify()\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    changeLock() {\r\n      this.lock = this.lock === 'lock' ? 'unlock' : 'lock'\r\n    },\r\n    loginVerify() {\r\n      captcha({}).then((ele) => {\r\n        this.picPath = ele.data.picPath\r\n        this.loginForm.captchaId = ele.data.captchaId\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/style/newLogin.scss\";\r\n</style>\r\n"]}]}