{"remainingRequest":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\superAdmin\\authority\\authority.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\console\\web\\src\\view\\superAdmin\\authority\\authority.vue","mtime":1629377582325},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1629377569839},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1629377580375}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDojrflj5bliJfooajlhoXlrrnlsIHoo4XlnKhtaXhpbnPlhoXpg6ggIGdldFRhYmxlRGF0YeaWueazlSDliJ3lp4vljJblt7LlsIHoo4XlrozmiJANCg0KaW1wb3J0IHsNCiAgZ2V0QXV0aG9yaXR5TGlzdCwNCiAgZGVsZXRlQXV0aG9yaXR5LA0KICBjcmVhdGVBdXRob3JpdHksDQogIHVwZGF0ZUF1dGhvcml0eSwNCiAgY29weUF1dGhvcml0eQ0KfSBmcm9tICdAL2FwaS9hdXRob3JpdHknDQoNCmltcG9ydCBNZW51cyBmcm9tICdAL3ZpZXcvc3VwZXJBZG1pbi9hdXRob3JpdHkvY29tcG9uZW50cy9tZW51cycNCmltcG9ydCBBcGlzIGZyb20gJ0Avdmlldy9zdXBlckFkbWluL2F1dGhvcml0eS9jb21wb25lbnRzL2FwaXMnDQppbXBvcnQgRGF0YXMgZnJvbSAnQC92aWV3L3N1cGVyQWRtaW4vYXV0aG9yaXR5L2NvbXBvbmVudHMvZGF0YXMnDQoNCmltcG9ydCBpbmZvTGlzdCBmcm9tICdAL21peGlucy9pbmZvTGlzdCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0F1dGhvcml0eScsDQogIGNvbXBvbmVudHM6IHsNCiAgICBNZW51cywNCiAgICBBcGlzLA0KICAgIERhdGFzDQogIH0sDQogIG1peGluczogW2luZm9MaXN0XSwNCiAgZGF0YSgpIHsNCiAgICB2YXIgbXVzdFVpbnQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAoIS9eWzAtOV0qWzEtOV1bMC05XSokLy50ZXN0KHZhbHVlKSkgew0KICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPmlbTmlbAnKSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBjYWxsYmFjaygpDQogICAgfQ0KDQogICAgcmV0dXJuIHsNCiAgICAgIEF1dGhvcml0eU9wdGlvbjogWw0KICAgICAgICB7DQogICAgICAgICAgYXV0aG9yaXR5SWQ6ICcwJywNCiAgICAgICAgICBhdXRob3JpdHlOYW1lOiAn5qC56KeS6ImyJw0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgbGlzdEFwaTogZ2V0QXV0aG9yaXR5TGlzdCwNCiAgICAgIGRyYXdlcjogZmFsc2UsDQogICAgICBkaWFsb2dUeXBlOiAnYWRkJywNCiAgICAgIGFjdGl2ZVJvdzoge30sDQogICAgICBhY3RpdmVVc2VySWQ6IDAsDQogICAgICBkaWFsb2dUaXRsZTogJ+aWsOWinuinkuiJsicsDQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBhcGlEaWFsb2dGbGFnOiBmYWxzZSwNCiAgICAgIGNvcHlGb3JtOiB7fSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgYXV0aG9yaXR5SWQ6ICcnLA0KICAgICAgICBhdXRob3JpdHlOYW1lOiAnJywNCiAgICAgICAgcGFyZW50SWQ6ICcwJw0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIGF1dGhvcml0eUlkOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeinkuiJsklEJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgeyB2YWxpZGF0b3I6IG11c3RVaW50LCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBhdXRob3JpdHlOYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeinkuiJsuWQjScsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIHBhcmVudElkOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeivt+axguaWueW8jycsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5wYWdlU2l6ZSA9IDk5OQ0KICAgIGF3YWl0IHRoaXMuZ2V0VGFibGVEYXRhKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGF1dG9FbnRlcihhY3RpdmVOYW1lLCBvbGRBY3RpdmVOYW1lKSB7DQogICAgICBjb25zdCBwYW5lQXJyID0gWydtZW51cycsICdhcGlzJywgJ2RhdGFzJ10NCiAgICAgIGlmIChvbGRBY3RpdmVOYW1lKSB7DQogICAgICAgIGlmICh0aGlzLiRyZWZzW3BhbmVBcnJbb2xkQWN0aXZlTmFtZV1dLm5lZWRDb25maXJtKSB7DQogICAgICAgICAgdGhpcy4kcmVmc1twYW5lQXJyW29sZEFjdGl2ZU5hbWVdXS5lbnRlckFuZE5leHQoKQ0KICAgICAgICAgIHRoaXMuJHJlZnNbcGFuZUFycltvbGRBY3RpdmVOYW1lXV0ubmVlZENvbmZpcm0gPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmi7fotJ3op5LoibINCiAgICBjb3B5QXV0aG9yaXR5KHJvdykgew0KICAgICAgdGhpcy5zZXRPcHRpb25zKCkNCiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5ou36LSd6KeS6ImyJw0KICAgICAgdGhpcy5kaWFsb2dUeXBlID0gJ2NvcHknDQogICAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy5mb3JtKSB7DQogICAgICAgIHRoaXMuZm9ybVtrXSA9IHJvd1trXQ0KICAgICAgfQ0KICAgICAgdGhpcy5jb3B5Rm9ybSA9IHJvdw0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIG9wZGVuZHJhd2VyKHJvdykgew0KICAgICAgdGhpcy5kcmF3ZXIgPSB0cnVlDQogICAgICB0aGlzLmFjdGl2ZVJvdyA9IHJvdw0KICAgIH0sDQogICAgLy8g5Yig6Zmk6KeS6ImyDQogICAgZGVsZXRlQXV0aChyb3cpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeinkuiJsiwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oYXN5bmMoKSA9PiB7DQogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZXRlQXV0aG9yaXR5KHsgYXV0aG9yaXR5SWQ6IHJvdy5hdXRob3JpdHlJZCB9KQ0KICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnBhZ2UgPiAxKSB7DQogICAgICAgICAgICAgIHRoaXMucGFnZS0tDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmdldFRhYmxlRGF0YSgpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ2luZm8nLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLy8g5Yid5aeL5YyW6KGo5Y2VDQogICAgaW5pdEZvcm0oKSB7DQogICAgICBpZiAodGhpcy4kcmVmcy5hdXRob3JpdHlGb3JtKSB7DQogICAgICAgIHRoaXMuJHJlZnMuYXV0aG9yaXR5Rm9ybS5yZXNldEZpZWxkcygpDQogICAgICB9DQogICAgICB0aGlzLmZvcm0gPSB7DQogICAgICAgIGF1dGhvcml0eUlkOiAnJywNCiAgICAgICAgYXV0aG9yaXR5TmFtZTogJycsDQogICAgICAgIHBhcmVudElkOiAnMCcNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOWFs+mXreeql+WPow0KICAgIGNsb3NlRGlhbG9nKCkgew0KICAgICAgdGhpcy5pbml0Rm9ybSgpDQogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgIHRoaXMuYXBpRGlhbG9nRmxhZyA9IGZhbHNlDQogICAgfSwNCiAgICAvLyDnoa7lrprlvLnnqpcNCg0KICAgIGFzeW5jIGVudGVyRGlhbG9nKCkgew0KICAgICAgaWYgKHRoaXMuZm9ybS5hdXRob3JpdHlJZCA9PT0gJzAnKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgbWVzc2FnZTogJ+inkuiJsmlk5LiN6IO95Li6MCcNCiAgICAgICAgfSkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgICB0aGlzLiRyZWZzLmF1dGhvcml0eUZvcm0udmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlhbG9nVHlwZSkgew0KICAgICAgICAgICAgY2FzZSAnYWRkJzoNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNyZWF0ZUF1dGhvcml0eSh0aGlzLmZvcm0pDQogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfIScNCiAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICB0aGlzLmdldFRhYmxlRGF0YSgpDQogICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nKCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGNhc2UgJ2VkaXQnOg0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdXBkYXRlQXV0aG9yaXR5KHRoaXMuZm9ybSkNCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8hJw0KICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCkNCiAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAnY29weSc6IHsNCiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBhdXRob3JpdHk6IHsNCiAgICAgICAgICAgICAgICAgIGF1dGhvcml0eUlkOiAnc3RyaW5nJywNCiAgICAgICAgICAgICAgICAgIGF1dGhvcml0eU5hbWU6ICdzdHJpbmcnLA0KICAgICAgICAgICAgICAgICAgZGF0YXV0aG9yaXR5SWQ6IFtdLA0KICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6ICdzdHJpbmcnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBvbGRBdXRob3JpdHlJZDogMA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGRhdGEuYXV0aG9yaXR5LmF1dGhvcml0eUlkID0gdGhpcy5mb3JtLmF1dGhvcml0eUlkDQogICAgICAgICAgICAgIGRhdGEuYXV0aG9yaXR5LmF1dGhvcml0eU5hbWUgPSB0aGlzLmZvcm0uYXV0aG9yaXR5TmFtZQ0KICAgICAgICAgICAgICBkYXRhLmF1dGhvcml0eS5wYXJlbnRJZCA9IHRoaXMuZm9ybS5wYXJlbnRJZA0KICAgICAgICAgICAgICBkYXRhLmF1dGhvcml0eS5kYXRhQXV0aG9yaXR5SWQgPSB0aGlzLmNvcHlGb3JtLmRhdGFBdXRob3JpdHlJZA0KICAgICAgICAgICAgICBkYXRhLm9sZEF1dGhvcml0eUlkID0gdGhpcy5jb3B5Rm9ybS5hdXRob3JpdHlJZA0KICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjb3B5QXV0aG9yaXR5KGRhdGEpDQogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WkjeWItuaIkOWKn++8gScNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHRoaXMuaW5pdEZvcm0oKQ0KICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgc2V0T3B0aW9ucygpIHsNCiAgICAgIHRoaXMuQXV0aG9yaXR5T3B0aW9uID0gWw0KICAgICAgICB7DQogICAgICAgICAgYXV0aG9yaXR5SWQ6ICcwJywNCiAgICAgICAgICBhdXRob3JpdHlOYW1lOiAn5qC56KeS6ImyJw0KICAgICAgICB9DQogICAgICBdDQogICAgICB0aGlzLnNldEF1dGhvcml0eU9wdGlvbnModGhpcy50YWJsZURhdGEsIHRoaXMuQXV0aG9yaXR5T3B0aW9uLCBmYWxzZSkNCiAgICB9LA0KICAgIHNldEF1dGhvcml0eU9wdGlvbnMoQXV0aG9yaXR5RGF0YSwgb3B0aW9uc0RhdGEsIGRpc2FibGVkKSB7DQogICAgICB0aGlzLmZvcm0uYXV0aG9yaXR5SWQgPSBTdHJpbmcodGhpcy5mb3JtLmF1dGhvcml0eUlkKQ0KICAgICAgQXV0aG9yaXR5RGF0YSAmJg0KICAgICAgICBBdXRob3JpdHlEYXRhLm1hcChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gew0KICAgICAgICAgICAgICBhdXRob3JpdHlJZDogaXRlbS5hdXRob3JpdHlJZCwNCiAgICAgICAgICAgICAgYXV0aG9yaXR5TmFtZTogaXRlbS5hdXRob3JpdHlOYW1lLA0KICAgICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgfHwgaXRlbS5hdXRob3JpdHlJZCA9PT0gdGhpcy5mb3JtLmF1dGhvcml0eUlkLA0KICAgICAgICAgICAgICBjaGlsZHJlbjogW10NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2V0QXV0aG9yaXR5T3B0aW9ucygNCiAgICAgICAgICAgICAgaXRlbS5jaGlsZHJlbiwNCiAgICAgICAgICAgICAgb3B0aW9uLmNoaWxkcmVuLA0KICAgICAgICAgICAgICBkaXNhYmxlZCB8fCBpdGVtLmF1dGhvcml0eUlkID09PSB0aGlzLmZvcm0uYXV0aG9yaXR5SWQNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIG9wdGlvbnNEYXRhLnB1c2gob3B0aW9uKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjb25zdCBvcHRpb24gPSB7DQogICAgICAgICAgICAgIGF1dGhvcml0eUlkOiBpdGVtLmF1dGhvcml0eUlkLA0KICAgICAgICAgICAgICBhdXRob3JpdHlOYW1lOiBpdGVtLmF1dGhvcml0eU5hbWUsDQogICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCB8fCBpdGVtLmF1dGhvcml0eUlkID09PSB0aGlzLmZvcm0uYXV0aG9yaXR5SWQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9wdGlvbnNEYXRhLnB1c2gob3B0aW9uKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOWinuWKoOinkuiJsg0KICAgIGFkZEF1dGhvcml0eShwYXJlbnRJZCkgew0KICAgICAgdGhpcy5pbml0Rm9ybSgpDQogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+aWsOWinuinkuiJsicNCiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICdhZGQnDQogICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSBwYXJlbnRJZA0KICAgICAgdGhpcy5zZXRPcHRpb25zKCkNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICAvLyDnvJbovpHop5LoibINCiAgICBlZGl0QXV0aG9yaXR5KHJvdykgew0KICAgICAgdGhpcy5zZXRPcHRpb25zKCkNCiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn57yW6L6R6KeS6ImyJw0KICAgICAgdGhpcy5kaWFsb2dUeXBlID0gJ2VkaXQnDQogICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmZvcm0pIHsNCiAgICAgICAgdGhpcy5mb3JtW2tleV0gPSByb3dba2V5XQ0KICAgICAgfQ0KICAgICAgdGhpcy5zZXRPcHRpb25zKCkNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["authority.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"authority.vue","sourceRoot":"src/view/superAdmin/authority","sourcesContent":["<template>\r\n  <div class=\"authority\">\r\n    <div class=\"button-box clearflex\">\r\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-plus\" @click=\"addAuthority('0')\">新增角色</el-button>\r\n    </div>\r\n    <el-table\r\n      :data=\"tableData\"\r\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\r\n      border\r\n      row-key=\"authorityId\"\r\n      stripe\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column label=\"角色id\" min-width=\"180\" prop=\"authorityId\" />\r\n      <el-table-column label=\"角色名称\" min-width=\"180\" prop=\"authorityName\" />\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"460\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"opdendrawer(scope.row)\">设置权限</el-button>\r\n          <el-button\r\n            icon=\"el-icon-plus\"\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"addAuthority(scope.row.authorityId)\"\r\n          >新增子角色</el-button>\r\n          <el-button\r\n            icon=\"el-icon-copy-document\"\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"copyAuthority(scope.row)\"\r\n          >拷贝</el-button>\r\n          <el-button\r\n            icon=\"el-icon-edit\"\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"editAuthority(scope.row)\"\r\n          >编辑</el-button>\r\n          <el-button\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"deleteAuth(scope.row)\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 新增角色弹窗 -->\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"authorityForm\" :model=\"form\" :rules=\"rules\">\r\n        <el-form-item label=\"父级角色\" prop=\"parentId\">\r\n          <el-cascader\r\n            v-model=\"form.parentId\"\r\n            :disabled=\"dialogType=='add'\"\r\n            :options=\"AuthorityOption\"\r\n            :props=\"{ checkStrictly: true,label:'authorityName',value:'authorityId',disabled:'disabled',emitPath:false}\"\r\n            :show-all-levels=\"false\"\r\n            filterable\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"角色ID\" prop=\"authorityId\">\r\n          <el-input v-model=\"form.authorityId\" :disabled=\"dialogType=='edit'\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"角色姓名\" prop=\"authorityName\">\r\n          <el-input v-model=\"form.authorityName\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"closeDialog\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"enterDialog\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-drawer v-if=\"drawer\" :visible.sync=\"drawer\" :with-header=\"false\" size=\"40%\" title=\"角色配置\">\r\n      <el-tabs :before-leave=\"autoEnter\" class=\"role-box\" type=\"border-card\">\r\n        <el-tab-pane label=\"角色菜单\">\r\n          <Menus ref=\"menus\" :row=\"activeRow\" />\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"角色api\">\r\n          <apis ref=\"apis\" :row=\"activeRow\" />\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"资源权限\">\r\n          <Datas ref=\"datas\" :authority=\"tableData\" :row=\"activeRow\" />\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 获取列表内容封装在mixins内部  getTableData方法 初始化已封装完成\r\n\r\nimport {\r\n  getAuthorityList,\r\n  deleteAuthority,\r\n  createAuthority,\r\n  updateAuthority,\r\n  copyAuthority\r\n} from '@/api/authority'\r\n\r\nimport Menus from '@/view/superAdmin/authority/components/menus'\r\nimport Apis from '@/view/superAdmin/authority/components/apis'\r\nimport Datas from '@/view/superAdmin/authority/components/datas'\r\n\r\nimport infoList from '@/mixins/infoList'\r\nexport default {\r\n  name: 'Authority',\r\n  components: {\r\n    Menus,\r\n    Apis,\r\n    Datas\r\n  },\r\n  mixins: [infoList],\r\n  data() {\r\n    var mustUint = (rule, value, callback) => {\r\n      if (!/^[0-9]*[1-9][0-9]*$/.test(value)) {\r\n        return callback(new Error('请输入正整数'))\r\n      }\r\n      return callback()\r\n    }\r\n\r\n    return {\r\n      AuthorityOption: [\r\n        {\r\n          authorityId: '0',\r\n          authorityName: '根角色'\r\n        }\r\n      ],\r\n      listApi: getAuthorityList,\r\n      drawer: false,\r\n      dialogType: 'add',\r\n      activeRow: {},\r\n      activeUserId: 0,\r\n      dialogTitle: '新增角色',\r\n      dialogFormVisible: false,\r\n      apiDialogFlag: false,\r\n      copyForm: {},\r\n      form: {\r\n        authorityId: '',\r\n        authorityName: '',\r\n        parentId: '0'\r\n      },\r\n      rules: {\r\n        authorityId: [\r\n          { required: true, message: '请输入角色ID', trigger: 'blur' },\r\n          { validator: mustUint, trigger: 'blur' }\r\n        ],\r\n        authorityName: [\r\n          { required: true, message: '请输入角色名', trigger: 'blur' }\r\n        ],\r\n        parentId: [\r\n          { required: true, message: '请选择请求方式', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.pageSize = 999\r\n    await this.getTableData()\r\n  },\r\n  methods: {\r\n    autoEnter(activeName, oldActiveName) {\r\n      const paneArr = ['menus', 'apis', 'datas']\r\n      if (oldActiveName) {\r\n        if (this.$refs[paneArr[oldActiveName]].needConfirm) {\r\n          this.$refs[paneArr[oldActiveName]].enterAndNext()\r\n          this.$refs[paneArr[oldActiveName]].needConfirm = false\r\n        }\r\n      }\r\n    },\r\n    // 拷贝角色\r\n    copyAuthority(row) {\r\n      this.setOptions()\r\n      this.dialogTitle = '拷贝角色'\r\n      this.dialogType = 'copy'\r\n      for (const k in this.form) {\r\n        this.form[k] = row[k]\r\n      }\r\n      this.copyForm = row\r\n      this.dialogFormVisible = true\r\n    },\r\n    opdendrawer(row) {\r\n      this.drawer = true\r\n      this.activeRow = row\r\n    },\r\n    // 删除角色\r\n    deleteAuth(row) {\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(async() => {\r\n          const res = await deleteAuthority({ authorityId: row.authorityId })\r\n          if (res.code === 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n            if (this.tableData.length === 1 && this.page > 1) {\r\n              this.page--\r\n            }\r\n            this.getTableData()\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n    },\r\n    // 初始化表单\r\n    initForm() {\r\n      if (this.$refs.authorityForm) {\r\n        this.$refs.authorityForm.resetFields()\r\n      }\r\n      this.form = {\r\n        authorityId: '',\r\n        authorityName: '',\r\n        parentId: '0'\r\n      }\r\n    },\r\n    // 关闭窗口\r\n    closeDialog() {\r\n      this.initForm()\r\n      this.dialogFormVisible = false\r\n      this.apiDialogFlag = false\r\n    },\r\n    // 确定弹窗\r\n\r\n    async enterDialog() {\r\n      if (this.form.authorityId === '0') {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '角色id不能为0'\r\n        })\r\n        return false\r\n      }\r\n      this.$refs.authorityForm.validate(async valid => {\r\n        if (valid) {\r\n          switch (this.dialogType) {\r\n            case 'add':\r\n              {\r\n                const res = await createAuthority(this.form)\r\n                if (res.code === 0) {\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: '添加成功!'\r\n                  })\r\n                  this.getTableData()\r\n                  this.closeDialog()\r\n                }\r\n              }\r\n              break\r\n            case 'edit':\r\n              {\r\n                const res = await updateAuthority(this.form)\r\n                if (res.code === 0) {\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: '添加成功!'\r\n                  })\r\n                  this.getTableData()\r\n                  this.closeDialog()\r\n                }\r\n              }\r\n              break\r\n            case 'copy': {\r\n              const data = {\r\n                authority: {\r\n                  authorityId: 'string',\r\n                  authorityName: 'string',\r\n                  datauthorityId: [],\r\n                  parentId: 'string'\r\n                },\r\n                oldAuthorityId: 0\r\n              }\r\n              data.authority.authorityId = this.form.authorityId\r\n              data.authority.authorityName = this.form.authorityName\r\n              data.authority.parentId = this.form.parentId\r\n              data.authority.dataAuthorityId = this.copyForm.dataAuthorityId\r\n              data.oldAuthorityId = this.copyForm.authorityId\r\n              const res = await copyAuthority(data)\r\n              if (res.code === 0) {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '复制成功！'\r\n                })\r\n                this.getTableData()\r\n              }\r\n            }\r\n          }\r\n\r\n          this.initForm()\r\n          this.dialogFormVisible = false\r\n        }\r\n      })\r\n    },\r\n    setOptions() {\r\n      this.AuthorityOption = [\r\n        {\r\n          authorityId: '0',\r\n          authorityName: '根角色'\r\n        }\r\n      ]\r\n      this.setAuthorityOptions(this.tableData, this.AuthorityOption, false)\r\n    },\r\n    setAuthorityOptions(AuthorityData, optionsData, disabled) {\r\n      this.form.authorityId = String(this.form.authorityId)\r\n      AuthorityData &&\r\n        AuthorityData.map(item => {\r\n          if (item.children && item.children.length) {\r\n            const option = {\r\n              authorityId: item.authorityId,\r\n              authorityName: item.authorityName,\r\n              disabled: disabled || item.authorityId === this.form.authorityId,\r\n              children: []\r\n            }\r\n            this.setAuthorityOptions(\r\n              item.children,\r\n              option.children,\r\n              disabled || item.authorityId === this.form.authorityId\r\n            )\r\n            optionsData.push(option)\r\n          } else {\r\n            const option = {\r\n              authorityId: item.authorityId,\r\n              authorityName: item.authorityName,\r\n              disabled: disabled || item.authorityId === this.form.authorityId\r\n            }\r\n            optionsData.push(option)\r\n          }\r\n        })\r\n    },\r\n    // 增加角色\r\n    addAuthority(parentId) {\r\n      this.initForm()\r\n      this.dialogTitle = '新增角色'\r\n      this.dialogType = 'add'\r\n      this.form.parentId = parentId\r\n      this.setOptions()\r\n      this.dialogFormVisible = true\r\n    },\r\n    // 编辑角色\r\n    editAuthority(row) {\r\n      this.setOptions()\r\n      this.dialogTitle = '编辑角色'\r\n      this.dialogType = 'edit'\r\n      for (const key in this.form) {\r\n        this.form[key] = row[key]\r\n      }\r\n      this.setOptions()\r\n      this.dialogFormVisible = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.authority {\r\n  .el-input-number {\r\n    margin-left: 15px;\r\n    span {\r\n      display: none;\r\n    }\r\n  }\r\n  .button-box {\r\n    padding: 10px 20px;\r\n    .el-button {\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n.role-box {\r\n  .el-tabs__content {\r\n    height: calc(100vh - 150px);\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n"]}]}