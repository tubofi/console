{"remainingRequest":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\systemTools\\autoCode\\component\\fieldDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\console\\web\\src\\view\\systemTools\\autoCode\\component\\fieldDialog.vue","mtime":1629377582356},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1629377569839},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1629377580375}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXREaWN0IH0gZnJvbSAnQC91dGlscy9kaWN0aW9uYXJ5Jw0KaW1wb3J0IHsgdG9Mb3dlckNhc2UsIHRvU1FMTGluZSB9IGZyb20gJ0AvdXRpbHMvc3RyaW5nRnVuJw0KaW1wb3J0IHsgZ2V0U3lzRGljdGlvbmFyeUxpc3QgfSBmcm9tICdAL2FwaS9zeXNEaWN0aW9uYXJ5Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdGaWVsZERpYWxvZycsDQogIHByb3BzOiB7DQogICAgZGlhbG9nTWlkZGxlOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYmZkT3B0aW9uczogW10sDQogICAgICBkaWN0T3B0aW9uczogW10sDQogICAgICB0eXBlU2VhcmNoT3B0aW9uczogWw0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICc9JywNCiAgICAgICAgICB2YWx1ZTogJz0nDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJzw+JywNCiAgICAgICAgICB2YWx1ZTogJzw+Jw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICc+JywNCiAgICAgICAgICB2YWx1ZTogJz4nDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJzwnLA0KICAgICAgICAgIHZhbHVlOiAnPCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAnTElLRScsDQogICAgICAgICAgdmFsdWU6ICdMSUtFJw0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgdHlwZU9wdGlvbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5a2X56ym5LiyJywNCiAgICAgICAgICB2YWx1ZTogJ3N0cmluZycNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5pW05Z6LJywNCiAgICAgICAgICB2YWx1ZTogJ2ludCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5biD5bCU5YC8JywNCiAgICAgICAgICB2YWx1ZTogJ2Jvb2wnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+a1rueCueWeiycsDQogICAgICAgICAgdmFsdWU6ICdmbG9hdDY0Jw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfml7bpl7QnLA0KICAgICAgICAgIHZhbHVlOiAndGltZS5UaW1lJw0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgZmllbGROYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpWZpZWxk6Iux5paH5ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgZmllbGREZXNjOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpWZpZWxk5Lit5paH5ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgZmllbGRKc29uOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpWZpZWxk5qC85byP5YyWanNvbicsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIGNvbHVtbk5hbWU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5pWw5o2u5bqT5a2X5q61JywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgZmllbGRUeXBlOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqWZpZWxk5pWw5o2u57G75Z6LJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICBjb25zdCBkaWN0UmVzID0gYXdhaXQgZ2V0U3lzRGljdGlvbmFyeUxpc3Qoew0KICAgICAgcGFnZTogMSwNCiAgICAgIHBhZ2VTaXplOiA5OTk5OTkNCiAgICB9KQ0KDQogICAgdGhpcy5kaWN0T3B0aW9ucyA9IGRpY3RSZXMuZGF0YS5saXN0DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhdXRvRmlsbCgpIHsNCiAgICAgIHRoaXMuZGlhbG9nTWlkZGxlLmZpZWxkSnNvbiA9IHRvTG93ZXJDYXNlKHRoaXMuZGlhbG9nTWlkZGxlLmZpZWxkTmFtZSkNCiAgICAgIHRoaXMuZGlhbG9nTWlkZGxlLmNvbHVtbk5hbWUgPSB0b1NRTExpbmUodGhpcy5kaWFsb2dNaWRkbGUuZmllbGRKc29uKQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0RGJmZE9wdGlvbnMoKSB7DQogICAgICB0aGlzLmRpYWxvZ01pZGRsZS5kYXRhVHlwZSA9ICcnDQogICAgICB0aGlzLmRpYWxvZ01pZGRsZS5kYXRhVHlwZUxvbmcgPSAnJw0KICAgICAgdGhpcy5kaWFsb2dNaWRkbGUuZmllbGRTZWFyY2hUeXBlID0gJycNCiAgICAgIHRoaXMuZGlhbG9nTWlkZGxlLmRpY3RUeXBlID0gJycNCiAgICAgIGlmICh0aGlzLmRpYWxvZ01pZGRsZS5maWVsZFR5cGUpIHsNCiAgICAgICAgdGhpcy5kYmZkT3B0aW9ucyA9IGF3YWl0IGdldERpY3QodGhpcy5kaWFsb2dNaWRkbGUuZmllbGRUeXBlKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["fieldDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"fieldDialog.vue","sourceRoot":"src/view/systemTools/autoCode/component","sourcesContent":["<template>\r\n  <div>\r\n    <span style=\"color:red\">搜索时如果条件为LIKE只支持字符串</span>\r\n    <el-form\r\n      ref=\"fieldDialogFrom\"\r\n      :model=\"dialogMiddle\"\r\n      label-width=\"120px\"\r\n      label-position=\"left\"\r\n      :rules=\"rules\"\r\n    >\r\n      <el-form-item label=\"Field名称\" prop=\"fieldName\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"dialogMiddle.fieldName\" autocomplete=\"off\" />\r\n        </el-col>\r\n        <el-col :offset=\"1\" :span=\"2\">\r\n          <el-button size=\"mini\" @click=\"autoFill\">自动填充</el-button>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"Field中文名\" prop=\"fieldDesc\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"dialogMiddle.fieldDesc\" autocomplete=\"off\" />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"FieldJSON\" prop=\"fieldJson\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"dialogMiddle.fieldJson\" autocomplete=\"off\" />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"数据库字段名\" prop=\"columnName\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"dialogMiddle.columnName\" autocomplete=\"off\" />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"数据库字段描述\" prop=\"comment\">\r\n        <el-col :span=\"6\">\r\n          <el-input v-model=\"dialogMiddle.comment\" autocomplete=\"off\" />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"Field数据类型\" prop=\"fieldType\">\r\n        <el-col :span=\"8\">\r\n          <el-select\r\n            v-model=\"dialogMiddle.fieldType\"\r\n            placeholder=\"请选择field数据类型\"\r\n            clearable\r\n            @change=\"getDbfdOptions\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in typeOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-col>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"数据库字段类型\" prop=\"dataType\">\r\n        <el-col :span=\"8\">\r\n          <el-select\r\n            v-model=\"dialogMiddle.dataType\"\r\n            :disabled=\"!dialogMiddle.fieldType\"\r\n            placeholder=\"请选择数据库字段类型\"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"item in dbfdOptions\"\r\n              :key=\"item.label\"\r\n              :label=\"item.label\"\r\n              :value=\"item.label\"\r\n            />\r\n          </el-select>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"数据库字段长度\" prop=\"dataTypeLong\">\r\n        <el-col :span=\"8\">\r\n          <el-input v-model=\"dialogMiddle.dataTypeLong\" placeholder=\"自定义类型必须指定长度\" :disabled=\"!dialogMiddle.dataType\" />\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item label=\"Field查询条件\" prop=\"fieldSearchType\">\r\n        <el-col :span=\"8\">\r\n          <el-select v-model=\"dialogMiddle.fieldSearchType\" placeholder=\"请选择Field查询条件\" clearable>\r\n            <el-option\r\n              v-for=\"item in typeSearchOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-col>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"关联字典\" prop=\"dictType\">\r\n        <el-col :span=\"8\">\r\n          <el-select v-model=\"dialogMiddle.dictType\" :disabled=\"dialogMiddle.fieldType!=='int'\" placeholder=\"请选择字典\" clearable>\r\n            <el-option\r\n              v-for=\"item in dictOptions\"\r\n              :key=\"item.type\"\r\n              :label=\"`${item.type}(${item.name})`\"\r\n              :value=\"item.type\"\r\n            />\r\n          </el-select>\r\n        </el-col>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDict } from '@/utils/dictionary'\r\nimport { toLowerCase, toSQLLine } from '@/utils/stringFun'\r\nimport { getSysDictionaryList } from '@/api/sysDictionary'\r\n\r\nexport default {\r\n  name: 'FieldDialog',\r\n  props: {\r\n    dialogMiddle: {\r\n      type: Object,\r\n      default: function() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dbfdOptions: [],\r\n      dictOptions: [],\r\n      typeSearchOptions: [\r\n        {\r\n          label: '=',\r\n          value: '='\r\n        },\r\n        {\r\n          label: '<>',\r\n          value: '<>'\r\n        },\r\n        {\r\n          label: '>',\r\n          value: '>'\r\n        },\r\n        {\r\n          label: '<',\r\n          value: '<'\r\n        },\r\n        {\r\n          label: 'LIKE',\r\n          value: 'LIKE'\r\n        }\r\n      ],\r\n      typeOptions: [\r\n        {\r\n          label: '字符串',\r\n          value: 'string'\r\n        },\r\n        {\r\n          label: '整型',\r\n          value: 'int'\r\n        },\r\n        {\r\n          label: '布尔值',\r\n          value: 'bool'\r\n        },\r\n        {\r\n          label: '浮点型',\r\n          value: 'float64'\r\n        },\r\n        {\r\n          label: '时间',\r\n          value: 'time.Time'\r\n        }\r\n      ],\r\n      rules: {\r\n        fieldName: [\r\n          { required: true, message: '请输入field英文名', trigger: 'blur' }\r\n        ],\r\n        fieldDesc: [\r\n          { required: true, message: '请输入field中文名', trigger: 'blur' }\r\n        ],\r\n        fieldJson: [\r\n          { required: true, message: '请输入field格式化json', trigger: 'blur' }\r\n        ],\r\n        columnName: [\r\n          { required: true, message: '请输入数据库字段', trigger: 'blur' }\r\n        ],\r\n        fieldType: [\r\n          { required: true, message: '请选择field数据类型', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    const dictRes = await getSysDictionaryList({\r\n      page: 1,\r\n      pageSize: 999999\r\n    })\r\n\r\n    this.dictOptions = dictRes.data.list\r\n  },\r\n  methods: {\r\n    autoFill() {\r\n      this.dialogMiddle.fieldJson = toLowerCase(this.dialogMiddle.fieldName)\r\n      this.dialogMiddle.columnName = toSQLLine(this.dialogMiddle.fieldJson)\r\n    },\r\n    async getDbfdOptions() {\r\n      this.dialogMiddle.dataType = ''\r\n      this.dialogMiddle.dataTypeLong = ''\r\n      this.dialogMiddle.fieldSearchType = ''\r\n      this.dialogMiddle.dictType = ''\r\n      if (this.dialogMiddle.fieldType) {\r\n        this.dbfdOptions = await getDict(this.dialogMiddle.fieldType)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}