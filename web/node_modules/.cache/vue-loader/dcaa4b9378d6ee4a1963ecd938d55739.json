{"remainingRequest":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\console\\web\\src\\view\\login\\index.vue","mtime":1629645124102},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629645113861},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1629645113236},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629645113861},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1629645123321}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCB7IGNhcHRjaGEgfSBmcm9tICdAL2FwaS91c2VyJw0KaW1wb3J0IHsgY2hlY2tEQiB9IGZyb20gJ0AvYXBpL2luaXRkYicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0xvZ2luJywNCiAgZGF0YSgpIHsNCiAgICBjb25zdCBjaGVja1VzZXJuYW1lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDMpIHsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5q2j56Gu55qE55So5oi35ZCNJykpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpDQogICAgICB9DQogICAgfQ0KICAgIGNvbnN0IGNoZWNrUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAodmFsdWUubGVuZ3RoIDwgNikgew0KICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPnoa7nmoTlr4bnoIEnKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHsNCiAgICAgIGN1clllYXI6IDAsDQogICAgICBsb2NrOiAnbG9jaycsDQogICAgICBsb2dpbkZvcm06IHsNCiAgICAgICAgdXNlcm5hbWU6ICdhZG1pbicsDQogICAgICAgIHBhc3N3b3JkOiAnMTIzNDU2JywNCiAgICAgICAgY2FwdGNoYTogJycsDQogICAgICAgIGNhcHRjaGFJZDogJycNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICB1c2VybmFtZTogW3sgdmFsaWRhdG9yOiBjaGVja1VzZXJuYW1lLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICAgIHBhc3N3b3JkOiBbeyB2YWxpZGF0b3I6IGNoZWNrUGFzc3dvcmQsIHRyaWdnZXI6ICdibHVyJyB9XQ0KICAgICAgfSwNCiAgICAgIGxvZ1ZlcmlmeTogJycsDQogICAgICBwaWNQYXRoOiAnJw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmxvZ2luVmVyaWZ5KCkNCiAgICB0aGlzLmN1clllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMoJ3VzZXInLCBbJ0xvZ2luSW4nXSksDQogICAgYXN5bmMgY2hlY2tJbml0KCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2hlY2tEQigpDQogICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsNCiAgICAgICAgaWYgKHJlcy5kYXRhPy5uZWVkSW5pdCkgew0KICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXNlci9OZWVkSW5pdCcpDQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnSW5pdCcgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7LphY3nva7mlbDmja7lupPkv6Hmga/vvIzml6Dms5XliJ3lp4vljJYnDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgbG9naW4oKSB7DQogICAgICByZXR1cm4gYXdhaXQgdGhpcy5Mb2dpbkluKHRoaXMubG9naW5Gb3JtKQ0KICAgIH0sDQogICAgYXN5bmMgc3VibWl0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKGFzeW5jKHYpID0+IHsNCiAgICAgICAgaWYgKHYpIHsNCiAgICAgICAgICBjb25zdCBmbGFnID0gYXdhaXQgdGhpcy5sb2dpbigpDQogICAgICAgICAgaWYgKCFmbGFnKSB7DQogICAgICAgICAgICB0aGlzLmxvZ2luVmVyaWZ5KCkNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAnZXJyb3InLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+ato+ehruWhq+WGmeeZu+W9leS/oeaBrycsDQogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMubG9naW5WZXJpZnkoKQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY2hhbmdlTG9jaygpIHsNCiAgICAgIHRoaXMubG9jayA9IHRoaXMubG9jayA9PT0gJ2xvY2snID8gJ3VubG9jaycgOiAnbG9jaycNCiAgICB9LA0KICAgIGxvZ2luVmVyaWZ5KCkgew0KICAgICAgY2FwdGNoYSh7fSkudGhlbigoZWxlKSA9PiB7DQogICAgICAgIHRoaXMucGljUGF0aCA9IGVsZS5kYXRhLnBpY1BhdGgNCiAgICAgICAgdGhpcy5sb2dpbkZvcm0uY2FwdGNoYUlkID0gZWxlLmRhdGEuY2FwdGNoYUlkDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/login","sourcesContent":["<template>\r\n  <div id=\"userLayout\">\r\n    <div class=\"login_panle\">\r\n      <div class=\"login_panle_form\">\r\n        <div class=\"login_panle_form_title\">\r\n          <img class=\"login_panle_form_title_logo\" :src=\"$GIN_VUE_ADMIN.appLogo\" alt=\"\"><p class=\"login_panle_form_title_p\">{{ $GIN_VUE_ADMIN.appName }}</p>\r\n        </div>\r\n        <el-form\r\n          ref=\"loginForm\"\r\n          :model=\"loginForm\"\r\n          :rules=\"rules\"\r\n          @keyup.enter.native=\"submitForm\"\r\n        >\r\n          <el-form-item prop=\"username\">\r\n            <el-input v-model=\"loginForm.username\" placeholder=\"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç\">\r\n              <i slot=\"suffix\" class=\"el-input__icon el-icon-user\" />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\">\r\n            <el-input\r\n              v-model=\"loginForm.password\"\r\n              :type=\"lock === 'lock' ? 'password' : 'text'\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•ÂØÜÁ†Å\"\r\n            >\r\n              <i\r\n                slot=\"suffix\"\r\n                :class=\"'el-input__icon el-icon-' + lock\"\r\n                @click=\"changeLock\"\r\n              />\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"position: relative\">\r\n            <el-input\r\n              v-model=\"loginForm.captcha\"\r\n              name=\"logVerify\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å\"\r\n              style=\"width: 60%\"\r\n            />\r\n            <div class=\"vPic\">\r\n              <img\r\n                v-if=\"picPath\"\r\n                :src=\"picPath\"\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                alt=\"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å\"\r\n                @click=\"loginVerify()\"\r\n              >\r\n            </div>\r\n          </el-form-item>\r\n          <div />\r\n          <el-form-item>\r\n            <el-button\r\n              type=\"primary\"\r\n              style=\"width: 46%\"\r\n              @click=\"checkInit\"\r\n            >ÂâçÂæÄÂàùÂßãÂåñ</el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              style=\"width: 46%;margin-left:8%\"\r\n              @click=\"submitForm\"\r\n            >Áôª ÂΩï</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"login_panle_right\" />\r\n      <div class=\"login_panle_foot\">\r\n        <div class=\"links\">\r\n          <a href=\"http://doc.henrongyi.top/\"><img src=\"@/assets/docs.png\" class=\"link-icon\"></a>\r\n          <a href=\"https://www.yuque.com/flipped-aurora/\"><img src=\"@/assets/yuque.png\" class=\"link-icon\"></a>\r\n          <a href=\"https://github.com/flipped-aurora/gin-vue-admin\"><img src=\"@/assets/github.png\" class=\"link-icon\"></a>\r\n          <a href=\"https://space.bilibili.com/322210472\"><img src=\"@/assets/video.png\" class=\"link-icon\"></a>\r\n        </div>\r\n        <div class=\"copyright\">Copyright &copy; {{ curYear }} üíñ flipped-aurora</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport { captcha } from '@/api/user'\r\nimport { checkDB } from '@/api/initdb'\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    const checkUsername = (rule, value, callback) => {\r\n      if (value.length < 3) {\r\n        return callback(new Error('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÁî®Êà∑Âêç'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    const checkPassword = (rule, value, callback) => {\r\n      if (value.length < 6) {\r\n        return callback(new Error('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÂØÜÁ†Å'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      curYear: 0,\r\n      lock: 'lock',\r\n      loginForm: {\r\n        username: 'admin',\r\n        password: '123456',\r\n        captcha: '',\r\n        captchaId: ''\r\n      },\r\n      rules: {\r\n        username: [{ validator: checkUsername, trigger: 'blur' }],\r\n        password: [{ validator: checkPassword, trigger: 'blur' }]\r\n      },\r\n      logVerify: '',\r\n      picPath: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.loginVerify()\r\n    this.curYear = new Date().getFullYear()\r\n  },\r\n  methods: {\r\n    ...mapActions('user', ['LoginIn']),\r\n    async checkInit() {\r\n      const res = await checkDB()\r\n      if (res.code === 0) {\r\n        if (res.data?.needInit) {\r\n          this.$store.commit('user/NeedInit')\r\n          this.$router.push({ name: 'Init' })\r\n        } else {\r\n          this.$message({\r\n            type: 'info',\r\n            message: 'Â∑≤ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì‰ø°ÊÅØÔºåÊó†Ê≥ïÂàùÂßãÂåñ'\r\n          })\r\n        }\r\n      }\r\n    },\r\n    async login() {\r\n      return await this.LoginIn(this.loginForm)\r\n    },\r\n    async submitForm() {\r\n      this.$refs.loginForm.validate(async(v) => {\r\n        if (v) {\r\n          const flag = await this.login()\r\n          if (!flag) {\r\n            this.loginVerify()\r\n          }\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: 'ËØ∑Ê≠£Á°ÆÂ°´ÂÜôÁôªÂΩï‰ø°ÊÅØ',\r\n            showClose: true\r\n          })\r\n          this.loginVerify()\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    changeLock() {\r\n      this.lock = this.lock === 'lock' ? 'unlock' : 'lock'\r\n    },\r\n    loginVerify() {\r\n      captcha({}).then((ele) => {\r\n        this.picPath = ele.data.picPath\r\n        this.loginForm.captchaId = ele.data.captchaId\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/style/newLogin.scss\";\r\n</style>\r\n"]}]}