{"remainingRequest":"E:\\临时文件夹\\console\\web\\node_modules\\babel-loader\\lib\\index.js!E:\\临时文件夹\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\临时文件夹\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\临时文件夹\\console\\web\\src\\view\\systemTools\\autoCode\\component\\previewCodeDialg.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\临时文件夹\\console\\web\\src\\view\\systemTools\\autoCode\\component\\previewCodeDialg.vue","mtime":1625854608000},{"path":"E:\\临时文件夹\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\临时文件夹\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\临时文件夹\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\临时文件夹\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1hcmtlZCBmcm9tICdtYXJrZWQnOwppbXBvcnQgaGxqcyBmcm9tICdoaWdobGlnaHQuanMnOyAvLyBpbXBvcnQgJ2hpZ2hsaWdodC5qcy9zdHlsZXMvYXRlbGllci1jYXZlLWxpZ2h0LmNzcyc7CgppbXBvcnQgJ2hpZ2hsaWdodC5qcy9zdHlsZXMvYXRlbGllci1wbGF0ZWF1LWxpZ2h0LmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgcHJldmlld0NvZGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVOYW1lOiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBtYXJrZWQuc2V0T3B0aW9ucyh7CiAgICAgIHJlbmRlcmVyOiBuZXcgbWFya2VkLlJlbmRlcmVyKCksCiAgICAgIGhpZ2hsaWdodDogZnVuY3Rpb24gaGlnaGxpZ2h0KGNvZGUpIHsKICAgICAgICByZXR1cm4gaGxqcy5oaWdobGlnaHRBdXRvKGNvZGUpLnZhbHVlOwogICAgICB9LAogICAgICBwZWRhbnRpYzogZmFsc2UsCiAgICAgIGdmbTogdHJ1ZSwKICAgICAgdGFibGVzOiB0cnVlLAogICAgICBicmVha3M6IGZhbHNlLAogICAgICBzYW5pdGl6ZTogZmFsc2UsCiAgICAgIHNtYXJ0TGlzdHM6IHRydWUsCiAgICAgIHNtYXJ0eXBhbnRzOiBmYWxzZSwKICAgICAgeGh0bWw6IGZhbHNlCiAgICB9KTsKCiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5wcmV2aWV3Q29kZSkgewogICAgICBpZiAodGhpcy5hY3RpdmVOYW1lID09PSAnJykgewogICAgICAgIHRoaXMuYWN0aXZlTmFtZSA9IGtleTsKICAgICAgfQoKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoa2V5KS5pbm5lckhUTUwgPSBtYXJrZWQodGhpcy5wcmV2aWV3Q29kZVtrZXldKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdFRleHQ6IGZ1bmN0aW9uIHNlbGVjdFRleHQoKSB7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5hY3RpdmVOYW1lKTsKCiAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSkgewogICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7CiAgICAgICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWxlbWVudCk7CiAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikgewogICAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7CgogICAgICAgIHZhciBfcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoKICAgICAgICBfcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpOwoKICAgICAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKF9yYW5nZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ25vbmUnKTsKICAgICAgfQogICAgfSwKICAgIGNvcHk6IGZ1bmN0aW9uIGNvcHkoKSB7CiAgICAgIHRoaXMuc2VsZWN0VGV4dCgpOwogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["previewCodeDialg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAgBA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,IAAA,MAAA,cAAA,C,CACA;;AACA,OAAA,+CAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAFA,sBAEA;AACA,eAAA,EAAA;AACA;AAJA;AADA,GADA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,MAAA,CAAA,UAAA,CAAA;AACA,MAAA,QAAA,EAAA,IAAA,MAAA,CAAA,QAAA,EADA;AAEA,MAAA,SAAA,EAAA,mBAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,aAAA,CAAA,IAAA,EAAA,KAAA;AACA,OAJA;AAKA,MAAA,QAAA,EAAA,KALA;AAMA,MAAA,GAAA,EAAA,IANA;AAOA,MAAA,MAAA,EAAA,IAPA;AAQA,MAAA,MAAA,EAAA,KARA;AASA,MAAA,QAAA,EAAA,KATA;AAUA,MAAA,UAAA,EAAA,IAVA;AAWA,MAAA,WAAA,EAAA,KAXA;AAYA,MAAA,KAAA,EAAA;AAZA,KAAA;;AAcA,SAAA,IAAA,GAAA,IAAA,KAAA,WAAA,EAAA;AACA,UAAA,KAAA,UAAA,KAAA,EAAA,EAAA;AACA,aAAA,UAAA,GAAA,GAAA;AACA;;AACA,MAAA,QAAA,CAAA,cAAA,CAAA,GAAA,EAAA,SAAA,GAAA,MAAA,CAAA,KAAA,WAAA,CAAA,GAAA,CAAA,CAAA;AACA;AACA,GAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,OAAA,GAAA,QAAA,CAAA,cAAA,CAAA,KAAA,UAAA,CAAA;;AACA,UAAA,QAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AACA,YAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AACA,QAAA,KAAA,CAAA,iBAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,MAAA;AACA,OAJA,MAIA,IAAA,MAAA,CAAA,YAAA,EAAA;AACA,YAAA,SAAA,GAAA,MAAA,CAAA,YAAA,EAAA;;AACA,YAAA,MAAA,GAAA,QAAA,CAAA,WAAA,EAAA;;AACA,QAAA,MAAA,CAAA,kBAAA,CAAA,OAAA;;AACA,QAAA,SAAA,CAAA,eAAA;AACA,QAAA,SAAA,CAAA,QAAA,CAAA,MAAA;AACA,OANA,MAMA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA;AACA;AACA,KAhBA;AAiBA,IAAA,IAjBA,kBAiBA;AACA,WAAA,UAAA;AACA,MAAA,QAAA,CAAA,WAAA,CAAA,MAAA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA;AArBA;AApCA,CAAA","sourcesContent":["<template>\n  <div class=\"previewCode\">\n    <div class=\"previewCodeTool\">\n      <p>操作栏：</p>\n      <el-button @click=\"selectText\">全选</el-button>\n      <el-button @click=\"copy\">复制</el-button>\n    </div>\n    <el-tabs v-model=\"activeName\">\n      <el-tab-pane v-for=\"(item, key) in previewCode\" :key=\"key\" :label=\"key\" :name=\"key\">\n        <div :id=\"key\" class=\"tab-info\" />\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\nimport marked from 'marked'\nimport hljs from 'highlight.js'\n// import 'highlight.js/styles/atelier-cave-light.css';\nimport 'highlight.js/styles/atelier-plateau-light.css'\nexport default {\n  props: {\n    previewCode: {\n      type: Object,\n      default() {\n        return {}\n      }\n    }\n  },\n  data() {\n    return {\n      activeName: ''\n    }\n  },\n  mounted() {\n    marked.setOptions({\n      renderer: new marked.Renderer(),\n      highlight: function(code) {\n        return hljs.highlightAuto(code).value\n      },\n      pedantic: false,\n      gfm: true,\n      tables: true,\n      breaks: false,\n      sanitize: false,\n      smartLists: true,\n      smartypants: false,\n      xhtml: false\n    })\n    for (const key in this.previewCode) {\n      if (this.activeName === '') {\n        this.activeName = key\n      }\n      document.getElementById(key).innerHTML = marked(this.previewCode[key])\n    }\n  },\n  methods: {\n    selectText() {\n      const element = document.getElementById(this.activeName)\n      if (document.body.createTextRange) {\n        const range = document.body.createTextRange()\n        range.moveToElementText(element)\n        range.select()\n      } else if (window.getSelection) {\n        const selection = window.getSelection()\n        const range = document.createRange()\n        range.selectNodeContents(element)\n        selection.removeAllRanges()\n        selection.addRange(range)\n      } else {\n        alert('none')\n      }\n    },\n    copy() {\n      this.selectText()\n      document.execCommand('copy')\n      this.$message.success('复制成功')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.previewCode {\n  .previewCodeTool {\n    display: flex;\n    align-items: center;\n    padding: 5px 0;\n    margin-top: -40px;\n  }\n  .tab-info {\n    height: 50vh;\n    background: #fff;\n    padding: 0 20px;\n    overflow-y: scroll;\n  }\n}\n</style>\n"],"sourceRoot":"src/view/systemTools/autoCode/component"}]}