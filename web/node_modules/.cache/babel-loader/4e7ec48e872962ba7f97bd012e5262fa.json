{"remainingRequest":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js!E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\console\\web\\src\\view\\system\\state.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\console\\web\\src\\view\\system\\state.vue","mtime":1625854608000},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\console\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovY29uc29sZS93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRTeXN0ZW1TdGF0ZSB9IGZyb20gJ0AvYXBpL3N5c3RlbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3RhdGUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lcjogbnVsbCwKICAgICAgc3RhdGU6IHt9LAogICAgICBjb2xvcnM6IFt7CiAgICAgICAgY29sb3I6ICcjNWNiODdhJywKICAgICAgICBwZXJjZW50YWdlOiAyMAogICAgICB9LCB7CiAgICAgICAgY29sb3I6ICcjZTZhMjNjJywKICAgICAgICBwZXJjZW50YWdlOiA0MAogICAgICB9LCB7CiAgICAgICAgY29sb3I6ICcjZjU2YzZjJywKICAgICAgICBwZXJjZW50YWdlOiA4MAogICAgICB9XQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMucmVsb2FkKCk7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5yZWxvYWQoKTsKICAgIH0sIDEwMDAgKiAxMCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0sCiAgbWV0aG9kczogewogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJGdldFN5c3RlbVN0YXRlLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRTeXN0ZW1TdGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0U3lzdGVtU3RhdGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRnZXRTeXN0ZW1TdGF0ZS5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlID0gZGF0YS5zZXJ2ZXI7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["state.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA,SAAA,cAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,CACA;AAAA,QAAA,KAAA,EAAA,SAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,KAAA,EAAA,SAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,KAAA,EAAA,SAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OAHA;AAHA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AACA,SAAA,MAAA;AACA,SAAA,KAAA,GAAA,WAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,MAAA;AACA,KAFA,EAEA,OAAA,EAFA,CAAA;AAGA,GAlBA;AAmBA,EAAA,aAnBA,2BAmBA;AACA,IAAA,aAAA,CAAA,KAAA,KAAA,CAAA;AACA,SAAA,KAAA,GAAA,IAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,cAAA,EADA;;AAAA;AAAA;AACA,gBAAA,IADA,yBACA,IADA;AAEA,gBAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA,MAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAJA;AAvBA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"15\" class=\"system_state\">\n      <el-col :span=\"12\">\n        <el-card v-if=\"state.os\" class=\"card_item\">\n          <div slot=\"header\">Runtime</div>\n          <div>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">os:</el-col>\n              <el-col :span=\"12\" v-text=\"state.os.goos\" />\n            </el-row>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">cpu nums:</el-col>\n              <el-col :span=\"12\" v-text=\"state.os.numCpu\" />\n            </el-row>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">compiler:</el-col>\n              <el-col :span=\"12\" v-text=\"state.os.compiler\" />\n            </el-row>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">go version:</el-col>\n              <el-col :span=\"12\" v-text=\"state.os.goVersion\" />\n            </el-row>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">goroutine nums:</el-col>\n              <el-col :span=\"12\" v-text=\"state.os.numGoroutine\" />\n            </el-row>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-card v-if=\"state.disk\" class=\"card_item\">\n          <div slot=\"header\">Disk</div>\n          <div>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">total (MB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.disk.totalMb\" />\n                </el-row>\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">used (MB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.disk.usedMb\" />\n                </el-row>\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">total (GB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.disk.totalGb\" />\n                </el-row>\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">used (GB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.disk.usedGb\" />\n                </el-row>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-progress\n                  type=\"dashboard\"\n                  :percentage=\"state.disk.usedPercent\"\n                  :color=\"colors\"\n                />\n              </el-col>\n            </el-row>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"15\" class=\"system_state\">\n      <el-col :span=\"12\">\n        <el-card\n          v-if=\"state.cpu\"\n          class=\"card_item\"\n          :body-style=\"{ height: '180px', 'overflow-y': 'scroll' }\"\n        >\n          <div slot=\"header\">CPU</div>\n          <div>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">physical number of cores:</el-col>\n              <el-col :span=\"12\" v-text=\"state.cpu.cores\" />\n            </el-row>\n            <template v-for=\"(item, index) in state.cpu.cpus\">\n              <el-row :key=\"index\" :gutter=\"10\">\n                <el-col :span=\"12\">core {{ index }}:</el-col>\n                <el-col\n                  :span=\"12\"\n                ><el-progress\n                  type=\"line\"\n                  :percentage=\"+item.toFixed(0)\"\n                  :color=\"colors\"\n                /></el-col>\n              </el-row>\n            </template>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-card v-if=\"state.ram\" class=\"card_item\">\n          <div slot=\"header\">Ram</div>\n          <div>\n            <el-row :gutter=\"10\">\n              <el-col :span=\"12\">\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">total (MB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.ram.totalMb\" />\n                </el-row>\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">used (MB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.ram.usedMb\" />\n                </el-row>\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">total (GB)</el-col>\n                  <el-col :span=\"12\" v-text=\"state.ram.totalMb / 1024\" />\n                </el-row>\n                <el-row :gutter=\"10\">\n                  <el-col :span=\"12\">used (GB)</el-col>\n                  <el-col\n                    :span=\"12\"\n                    v-text=\"(state.ram.usedMb / 1024).toFixed(2)\"\n                  />\n                </el-row>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-progress\n                  type=\"dashboard\"\n                  :percentage=\"state.ram.usedPercent\"\n                  :color=\"colors\"\n                />\n              </el-col>\n            </el-row>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { getSystemState } from '@/api/system'\nexport default {\n  name: 'State',\n  data() {\n    return {\n      timer: null,\n      state: {},\n      colors: [\n        { color: '#5cb87a', percentage: 20 },\n        { color: '#e6a23c', percentage: 40 },\n        { color: '#f56c6c', percentage: 80 }\n      ]\n    }\n  },\n  created() {\n    this.reload()\n    this.timer = setInterval(() => {\n      this.reload()\n    }, 1000 * 10)\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n    this.timer = null\n  },\n  methods: {\n    async reload() {\n      const { data } = await getSystemState()\n      this.state = data.server\n    }\n  }\n}\n</script>\n\n<style>\n.system_state {\n  padding: 10px;\n}\n\n.card_item {\n  height: 280px;\n}\n</style>\n"],"sourceRoot":"src/view/system"}]}