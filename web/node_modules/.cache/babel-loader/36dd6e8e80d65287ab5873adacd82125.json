{"remainingRequest":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js!E:\\console\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\console\\web\\src\\utils\\downloadImg.js","dependencies":[{"path":"E:\\console\\web\\src\\utils\\downloadImg.js","mtime":1629377582278},{"path":"E:\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1629377571573},{"path":"E:\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1629377569839},{"path":"E:\\console\\web\\node_modules\\eslint-loader\\index.js","mtime":1629377574113}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IHZhciBkb3dubG9hZEltYWdlID0gZnVuY3Rpb24gZG93bmxvYWRJbWFnZShpbWdzcmMsIG5hbWUpIHsKICAvLyDkuIvovb3lm77niYflnLDlnYDlkozlm77niYflkI0KICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2Nyb3NzT3JpZ2luJywgJ2Fub255bW91cycpOwoKICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDsKICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7CiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpOwogICAgdmFyIHVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpOyAvLyDlvpfliLDlm77niYfnmoRiYXNlNjTnvJbnoIHmlbDmja4KCiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsgLy8g55Sf5oiQ5LiA5LiqYeWFg+e0oAoKICAgIHZhciBldmVudCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycpOyAvLyDliJvlu7rkuIDkuKrljZXlh7vkuovku7YKCiAgICBhLmRvd25sb2FkID0gbmFtZSB8fCAncGhvdG8nOyAvLyDorr7nva7lm77niYflkI3np7AKCiAgICBhLmhyZWYgPSB1cmw7IC8vIOWwhueUn+aIkOeahFVSTOiuvue9ruS4umEuaHJlZuWxnuaApwoKICAgIGEuZGlzcGF0Y2hFdmVudChldmVudCk7IC8vIOinpuWPkWHnmoTljZXlh7vkuovku7YKICB9OwoKICBpbWFnZS5zcmMgPSBpbWdzcmM7Cn07"},{"version":3,"sources":["E:/console/web/src/utils/downloadImg.js"],"names":["downloadImage","imgsrc","name","image","Image","setAttribute","onload","canvas","document","createElement","width","height","context","getContext","drawImage","url","toDataURL","a","event","MouseEvent","download","href","dispatchEvent","src"],"mappings":"AAAA,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAASC,IAAT,EAAkB;AAAE;AAC/C,MAAIC,KAAK,GAAG,IAAIC,KAAJ,EAAZ;AACAD,EAAAA,KAAK,CAACE,YAAN,CAAmB,aAAnB,EAAkC,WAAlC;;AACAF,EAAAA,KAAK,CAACG,MAAN,GAAe,YAAW;AACxB,QAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,IAAAA,MAAM,CAACG,KAAP,GAAeP,KAAK,CAACO,KAArB;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgBR,KAAK,CAACQ,MAAtB;AACA,QAAIC,OAAO,GAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAd;AACAD,IAAAA,OAAO,CAACE,SAAR,CAAkBX,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+BA,KAAK,CAACO,KAArC,EAA4CP,KAAK,CAACQ,MAAlD;AACA,QAAII,GAAG,GAAGR,MAAM,CAACS,SAAP,CAAiB,WAAjB,CAAV,CANwB,CAMgB;;AAExC,QAAIC,CAAC,GAAGT,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAR,CARwB,CAQY;;AACpC,QAAIS,KAAK,GAAG,IAAIC,UAAJ,CAAe,OAAf,CAAZ,CATwB,CASY;;AACpCF,IAAAA,CAAC,CAACG,QAAF,GAAalB,IAAI,IAAI,OAArB,CAVwB,CAUK;;AAC7Be,IAAAA,CAAC,CAACI,IAAF,GAASN,GAAT,CAXwB,CAWX;;AACbE,IAAAA,CAAC,CAACK,aAAF,CAAgBJ,KAAhB,EAZwB,CAYD;AACxB,GAbD;;AAcAf,EAAAA,KAAK,CAACoB,GAAN,GAAYtB,MAAZ;AACD,CAlBM","sourcesContent":["export const downloadImage = (imgsrc, name) => { // 下载图片地址和图片名\r\n  var image = new Image()\r\n  image.setAttribute('crossOrigin', 'anonymous')\r\n  image.onload = function() {\r\n    var canvas = document.createElement('canvas')\r\n    canvas.width = image.width\r\n    canvas.height = image.height\r\n    var context = canvas.getContext('2d')\r\n    context.drawImage(image, 0, 0, image.width, image.height)\r\n    var url = canvas.toDataURL('image/png') // 得到图片的base64编码数据\r\n\r\n    var a = document.createElement('a') // 生成一个a元素\r\n    var event = new MouseEvent('click') // 创建一个单击事件\r\n    a.download = name || 'photo' // 设置图片名称\r\n    a.href = url // 将生成的URL设置为a.href属性\r\n    a.dispatchEvent(event) // 触发a的单击事件\r\n  }\r\n  image.src = imgsrc\r\n}\r\n"]}]}