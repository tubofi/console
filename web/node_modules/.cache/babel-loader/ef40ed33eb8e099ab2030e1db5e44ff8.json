{"remainingRequest":"E:\\临时\\console\\web\\node_modules\\babel-loader\\lib\\index.js!E:\\临时\\console\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\临时\\console\\web\\src\\store\\module\\router.js","dependencies":[{"path":"E:\\临时\\console\\web\\src\\store\\module\\router.js","mtime":1625854608000},{"path":"E:\\临时\\console\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\临时\\console\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\临时\\console\\web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovXHU0RTM0XHU2NUY2L2NvbnNvbGUvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgYXN5bmNSb3V0ZXJIYW5kbGUgfSBmcm9tICdAL3V0aWxzL2FzeW5jUm91dGVyJzsKaW1wb3J0IHsgYXN5bmNNZW51IH0gZnJvbSAnQC9hcGkvbWVudSc7CnZhciByb3V0ZXJMaXN0ID0gW107Cgp2YXIgZm9ybWF0Um91dGVyID0gZnVuY3Rpb24gZm9ybWF0Um91dGVyKHJvdXRlcykgewogIHJvdXRlcyAmJiByb3V0ZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoKCFpdGVtLmNoaWxkcmVuIHx8IGl0ZW0uY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKGNoKSB7CiAgICAgIHJldHVybiBjaC5oaWRkZW47CiAgICB9KSkgJiYgaXRlbS5uYW1lICE9PSAnNDA0JykgewogICAgICByb3V0ZXJMaXN0LnB1c2goewogICAgICAgIGxhYmVsOiBpdGVtLm1ldGEudGl0bGUsCiAgICAgICAgdmFsdWU6IGl0ZW0ubmFtZQogICAgICB9KTsKICAgIH0KCiAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgZm9ybWF0Um91dGVyKGl0ZW0uY2hpbGRyZW4pOwogICAgfQogIH0pOwp9OwoKZXhwb3J0IHZhciByb3V0ZXIgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgYXN5bmNSb3V0ZXJzOiBbXSwKICAgIHJvdXRlckxpc3Q6IHJvdXRlckxpc3QKICB9LAogIG11dGF0aW9uczogewogICAgc2V0Um91dGVyTGlzdDogZnVuY3Rpb24gc2V0Um91dGVyTGlzdChzdGF0ZSwgcm91dGVyTGlzdCkgewogICAgICBzdGF0ZS5yb3V0ZXJMaXN0ID0gcm91dGVyTGlzdDsKICAgIH0sCiAgICAvLyDorr7nva7liqjmgIHot6/nlLEKICAgIHNldEFzeW5jUm91dGVyOiBmdW5jdGlvbiBzZXRBc3luY1JvdXRlcihzdGF0ZSwgYXN5bmNSb3V0ZXJzKSB7CiAgICAgIHN0YXRlLmFzeW5jUm91dGVycyA9IGFzeW5jUm91dGVyczsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOS7juWQjuWPsOiOt+WPluWKqOaAgei3r+eUsQogICAgU2V0QXN5bmNSb3V0ZXI6IGZ1bmN0aW9uIFNldEFzeW5jUm91dGVyKF9yZWYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBiYXNlUm91dGVyLCBhc3luY1JvdXRlclJlcywgYXN5bmNSb3V0ZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBiYXNlUm91dGVyID0gW3sKICAgICAgICAgICAgICAgICAgcGF0aDogJy9sYXlvdXQnLAogICAgICAgICAgICAgICAgICBuYW1lOiAnbGF5b3V0JywKICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiAndmlldy9sYXlvdXQvaW5kZXgudnVlJywKICAgICAgICAgICAgICAgICAgbWV0YTogewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5bqV5bGCbGF5b3V0JwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10KICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXN5bmNNZW51KCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGFzeW5jUm91dGVyUmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShhc3luY1JvdXRlclJlcy5jb2RlICE9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGFzeW5jUm91dGVyID0gYXN5bmNSb3V0ZXJSZXMuZGF0YSAmJiBhc3luY1JvdXRlclJlcy5kYXRhLm1lbnVzOwogICAgICAgICAgICAgICAgYXN5bmNSb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICc0MDQnLAogICAgICAgICAgICAgICAgICBuYW1lOiAnNDA0JywKICAgICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLAogICAgICAgICAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfov7fot6/kuoYq44CCKicKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiAndmlldy9lcnJvci9pbmRleC52dWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZvcm1hdFJvdXRlcihhc3luY1JvdXRlcik7CiAgICAgICAgICAgICAgICBiYXNlUm91dGVyWzBdLmNoaWxkcmVuID0gYXN5bmNSb3V0ZXI7CiAgICAgICAgICAgICAgICBiYXNlUm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnKicsCiAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnL2xheW91dC80MDQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGFzeW5jUm91dGVySGFuZGxlKGJhc2VSb3V0ZXIpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBc3luY1JvdXRlcicsIGJhc2VSb3V0ZXIpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRSb3V0ZXJMaXN0Jywgcm91dGVyTGlzdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIC8vIOiOt+WPluWKqOaAgei3r+eUsQogICAgYXN5bmNSb3V0ZXJzOiBmdW5jdGlvbiBhc3luY1JvdXRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFzeW5jUm91dGVyczsKICAgIH0sCiAgICByb3V0ZXJMaXN0OiBmdW5jdGlvbiByb3V0ZXJMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yb3V0ZXJMaXN0OwogICAgfSwKICAgIGRlZmF1bHRSb3V0ZXI6IGZ1bmN0aW9uIGRlZmF1bHRSb3V0ZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRlZmF1bHRSb3V0ZXI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["E:/临时/console/web/src/store/module/router.js"],"names":["asyncRouterHandle","asyncMenu","routerList","formatRouter","routes","map","item","children","every","ch","hidden","name","push","label","meta","title","value","length","router","namespaced","state","asyncRouters","mutations","setRouterList","setAsyncRouter","actions","SetAsyncRouter","commit","baseRouter","path","component","asyncRouterRes","code","asyncRouter","data","menus","redirect","getters","defaultRouter"],"mappings":"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","sourcesContent":["import { asyncRouterHandle } from '@/utils/asyncRouter'\n\nimport { asyncMenu } from '@/api/menu'\n\nconst routerList = []\nconst formatRouter = (routes) => {\n  routes && routes.map(item => {\n    if ((!item.children || item.children.every(ch => ch.hidden)) && item.name !== '404') {\n      routerList.push({ label: item.meta.title, value: item.name })\n    }\n    if (item.children && item.children.length > 0) {\n      formatRouter(item.children)\n    }\n  })\n}\n\nexport const router = {\n  namespaced: true,\n  state: {\n    asyncRouters: [],\n    routerList: routerList\n  },\n  mutations: {\n    setRouterList(state, routerList) {\n      state.routerList = routerList\n    },\n    // 设置动态路由\n    setAsyncRouter(state, asyncRouters) {\n      state.asyncRouters = asyncRouters\n    }\n  },\n  actions: {\n    // 从后台获取动态路由\n    async SetAsyncRouter({ commit }) {\n      const baseRouter = [{\n        path: '/layout',\n        name: 'layout',\n        component: 'view/layout/index.vue',\n        meta: {\n          title: '底层layout'\n        },\n        children: []\n      }]\n      const asyncRouterRes = await asyncMenu()\n      if (asyncRouterRes.code !== 0) {\n        return\n      }\n      const asyncRouter = asyncRouterRes.data && asyncRouterRes.data.menus\n      asyncRouter.push({\n        path: '404',\n        name: '404',\n        hidden: true,\n        meta: {\n          title: '迷路了*。*'\n        },\n        component: 'view/error/index.vue'\n      })\n      formatRouter(asyncRouter)\n      baseRouter[0].children = asyncRouter\n      baseRouter.push({\n        path: '*',\n        redirect: '/layout/404'\n      })\n      asyncRouterHandle(baseRouter)\n      commit('setAsyncRouter', baseRouter)\n      commit('setRouterList', routerList)\n      return true\n    }\n  },\n  getters: {\n    // 获取动态路由\n    asyncRouters(state) {\n      return state.asyncRouters\n    },\n    routerList(state) {\n      return state.routerList\n    },\n    defaultRouter(state) {\n      return state.defaultRouter\n    }\n  }\n}\n"]}]}